

<iframe src="share-iframe.html"></iframe>

<script>
window.onload = function() {
  const iframe = document.querySelector('iframe');
  const {contentDocument, contentWindow} = iframe;
  const nav = contentWindow.navigator;
  const shareButton = contentDocument.getElementById('share-button');
  shareButton.onclick = async function() {
    iframe.remove();
    console.log("Can share:", nav.canShare({text: "hello"}));
    const p = nav.share({ url: 'hello' });
    console.log(p)
    await p;
  }
}
</script>