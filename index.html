<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>
      Web App Manifest
    </title>
    <style>
    /*****************************************************************
    * ReSpec 3 CSS
    * Robin Berjon - http://berjon.com/
    *****************************************************************/

    /* --- INLINES --- */
    em.rfc2119 { 
    text-transform:     lowercase;
    font-variant:       small-caps;
    font-style:         normal;
    color:              #900;
    }

    h1 acronym, h2 acronym, h3 acronym, h4 acronym, h5 acronym, h6 acronym, a acronym,
    h1 abbr, h2 abbr, h3 abbr, h4 abbr, h5 abbr, h6 abbr, a abbr {
    border: none;
    }

    dfn {
    font-weight:    bold;
    }

    a.internalDFN {
    color:  inherit;
    border-bottom:  1px solid #99c;
    text-decoration:    none;
    }

    a.externalDFN {
    color:  inherit;
    border-bottom:  1px dotted #ccc;
    text-decoration:    none;
    }

    a.bibref {
    text-decoration:    none;
    }

    cite .bibref {
    font-style: normal;
    }

    code {
    color:  #C83500;
    }

    /* --- TOC --- */
    .toc a, .tof a {
    text-decoration:    none;
    }

    a .secno, a .figno {
    color:  #000;
    }

    ul.tof, ol.tof {
    list-style: none outside none;
    }

    .caption {
    margin-top: 0.5em;
    font-style:   italic;
    }

    /* --- TABLE --- */
    table.simple {
    border-spacing: 0;
    border-collapse:    collapse;
    border-bottom:  3px solid #005a9c;
    }

    .simple th {
    background: #005a9c;
    color:  #fff;
    padding:    3px 5px;
    text-align: left;
    }

    .simple th[scope="row"] {
    background: inherit;
    color:  inherit;
    border-top: 1px solid #ddd;
    }

    .simple td {
    padding:    3px 10px;
    border-top: 1px solid #ddd;
    }

    .simple tr:nth-child(even) {
    background: #f0f6ff;
    }

    /* --- DL --- */
    .section dd > p:first-child {
    margin-top: 0;
    }

    .section dd > p:last-child {
    margin-bottom: 0;
    }

    .section dd {
    margin-bottom:  1em;
    }

    .section dl.attrs dd, .section dl.eldef dd {
    margin-bottom:  0;
    }

    @media print {
    .removeOnSave {
        display: none;
    }
    }
    </style>
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name=
    "viewport">
    <style>
    /* --- EXAMPLES --- */
    div.example-title {
    min-width: 7.5em;
    color: #b9ab2d;
    }
    div.example-title span {
    text-transform: uppercase;
    }
    aside.example, div.example, div.illegal-example {
    padding: 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
    }
    div.illegal-example { color: red }
    div.illegal-example p { color: black }
    aside.example, div.example {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
    border-color: #e0cb52;
    background: #fcfaee;
    }

    aside.example div.example {
    border-left-width: .1em;
    border-color: #999;
    background: #fff;
    }
    aside.example div.example div.example-title {
    color: #999;
    }
    </style>
    <style>
    /* --- ISSUES/NOTES --- */
    div.issue-title, div.note-title , div.ednote-title, div.warning-title {
    padding-right:  1em;
    min-width: 7.5em;
    color: #b9ab2d;
    }
    div.issue-title { color: #e05252; }
    div.note-title, div.ednote-title { color: #2b2; }
    div.warning-title { color: #f22; }
    div.issue-title span, div.note-title span, div.ednote-title span, div.warning-title span {
    text-transform: uppercase;
    }
    div.note, div.issue, div.ednote, div.warning {
    margin-top: 1em;
    margin-bottom: 1em;
    }
    .note > p:first-child, .ednote > p:first-child, .issue > p:first-child, .warning > p:first-child { margin-top: 0 }
    .issue, .note, .ednote, .warning {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
    }
    div.issue, div.note , div.ednote,  div.warning {
    padding: 1em 1.2em 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
    }
    span.note, span.ednote, span.issue, span.warning { padding: .1em .5em .15em; }

    .issue {
    border-color: #e05252;
    background: #fbe9e9;
    }
    .note, .ednote {
    border-color: #52e052;
    background: #e9fbe9;
    }

    .warning {
    border-color: #f11;
    border-right-width: .2em;
    border-top-width: .2em;
    border-bottom-width: .2em;
    border-style: solid;
    background: #fbe9e9;
    }

    .warning-title:before{
    content: "⚠"; /*U+26A0 WARNING SIGN*/
    font-size: 3em;
    float: left;
    height: 100%;
    padding-right: .3em;
    vertical-align: top;
    margin-top: -0.5em;
    }

    li.task-list-item {
    list-style: none;
    }

    input.task-list-item-checkbox {
    margin: 0 0.35em 0.25em -1.6em;
    vertical-align: middle;
    }
    </style>
    <style>
    /* HIGHLIGHTS */
    code.prettyprint {
    color:  inherit;
    }

    /* this from google-code-prettify */
    .pln{color:#000}@media screen{.str{color:#080}.kwd{color:#008}.com{color:#800}.typ{color:#606}.lit{color:#066}.pun,.opn,.clo{color:#660}.tag{color:#008}.atn{color:#606}.atv{color:#080}.dec,.var{color:#606}.fun{color:red}}@media print,projection{.str{color:#060}.kwd{color:#006;font-weight:bold}.com{color:#600;font-style:italic}.typ{color:#404;font-weight:bold}.lit{color:#044}.pun,.opn,.clo{color:#440}.tag{color:#006;font-weight:bold}.atn{color:#404}.atv{color:#060}}ol.linenums{margin-top:0;margin-bottom:0}li.L0,li.L1,li.L2,li.L3,li.L5,li.L6,li.L7,li.L8{list-style-type:none}li.L1,li.L3,li.L5,li.L7,li.L9{background:#eee}
    </style>
    <link href="https://www.w3.org/StyleSheets/TR/2016/W3C-WD" rel=
    "stylesheet">
    <!--[if lt IE 9]><script src='https://www.w3.org/2008/site/js/html5shiv.js'></script><![endif]-->

    <script type="application/json" id="initialUserConfig">
    {
    "doRDFa": false,
    "previousPublishDate": "2013-12-17",
    "specStatus": "WD",
    "shortName": "appmanifest",
    "subtitle": "Living Document",
    "prevVersion": "FPWD",
    "previousMaturity": "WD",
    "editors": [
    {
      "name": "Marcos Caceres",
      "company": "Mozilla Corporation",
      "companyURL": "https://mozilla.org/",
      "w3cid": 39125
    },
    {
      "name": "Kenneth Rohde Christiansen",
      "company": "Intel Corporation",
      "companyURL": "http://intel.com",
      "w3cid": 57705
    },
    {
      "name": "Mounir Lamouri",
      "company": "Google Inc.",
      "companyURL": "https://google.com",
      "w3cid": 45389
    },
    {
      "name": "Anssi Kostiainen",
      "company": "Intel Corporation",
      "companyURL": "http://intel.com",
      "w3cid": 41974
    }
    ],
    "wg": "Web Platform Working Group",
    "wgURI": "http://www.w3.org/WebPlatform/WG/",
    "license": "w3c-software-doc",
    "wgPublicList": "public-webapps",
    "wgPatentURI": "http://www.w3.org/2004/01/pp-impl/83482/status",
    "noLegacyStyle": true,
    "otherLinks": [
    {
      "key": "Repository",
      "data": [
        {
          "value": "We are on Github.",
          "href": "https://github.com/w3c/manifest"
        },
        {
          "value": "File a bug.",
          "href": "https://github.com/w3c/manifest/issues"
        },
        {
          "value": "Commit history.",
          "href": "https://github.com/w3c/manifest/commits/gh-pages"
        },
        {
          "value": "Mailing list.",
          "href": "https://lists.w3.org/Archives/Public/public-webapps/"
        }
      ]
    },
    {
      "key": "Implementation status",
      "data": [
        {
          "value": "Gecko",
          "href": "https://bugzilla.mozilla.org/show_bug.cgi?id=997779"
        },
        {
          "value": "Blink",
          "href": "https://code.google.com/p/chromium/issues/detail?id=366145"
        }
      ]
    }
    ],
    "issueBase": "https://www.github.com/w3c/manifest/issues/",
    "githubAPI": "https://api.github.com/repos/w3c/manifest"
    }
    </script>
  </head>
  <body id="respecDocument" role="document" class="h-entry toc-sidebar">
    <div id="respecHeader" role="contentinfo" class="head">
      <p>
        <a class="logo" href="http://www.w3.org/"><img src=
        "https://www.w3.org/StyleSheets/TR/2016/logos/W3C" alt="W3C" width="72"
        height="48"></a>
      </p>
      <h1 class="title p-name" id="title">
        Web App Manifest
      </h1>
      <h2 id="subtitle">
        Living Document
      </h2>
      <h2 id="w3c-working-draft-15-march-2016">
        <abbr title="World Wide Web Consortium">W3C</abbr> Working Draft
        <time class="dt-published" datetime="2016-03-15">15 March 2016</time>
      </h2>
      <dl>
        <dt>
          This version:
        </dt>
        <dd>
          <a class="u-url" href=
          "http://www.w3.org/TR/2016/WD-appmanifest-20160315/">http://www.w3.org/TR/2016/WD-appmanifest-20160315/</a>
        </dd>
        <dt>
          Latest published version:
        </dt>
        <dd>
          <a href=
          "http://www.w3.org/TR/appmanifest/">http://www.w3.org/TR/appmanifest/</a>
        </dd>
        <dt>
          Previous version:
        </dt>
        <dd>
          <a href=
          "http://www.w3.org/TR/2013/WD-appmanifest-20131217/">http://www.w3.org/TR/2013/WD-appmanifest-20131217/</a>
        </dd>
        <dt>
          Editors:
        </dt>
        <dd class="p-author h-card vcard" data-editor-id="39125">
          <span class="p-name fn">Marcos Caceres</span>, <a class=
          "p-org org h-org h-card" href="https://mozilla.org/">Mozilla
          Corporation</a>
        </dd>
        <dd class="p-author h-card vcard" data-editor-id="57705">
          <span class="p-name fn">Kenneth Rohde Christiansen</span>, <a class=
          "p-org org h-org h-card" href="http://intel.com">Intel
          Corporation</a>
        </dd>
        <dd class="p-author h-card vcard" data-editor-id="45389">
          <span class="p-name fn">Mounir Lamouri</span>, <a class=
          "p-org org h-org h-card" href="https://google.com">Google Inc.</a>
        </dd>
        <dd class="p-author h-card vcard" data-editor-id="41974">
          <span class="p-name fn">Anssi Kostiainen</span>, <a class=
          "p-org org h-org h-card" href="http://intel.com">Intel
          Corporation</a>
        </dd>
        <dt>
          Repository:
        </dt>
        <dd>
          <a href="https://github.com/w3c/manifest">We are on Github.</a>
        </dd>
        <dd>
          <a href="https://github.com/w3c/manifest/issues">File a bug.</a>
        </dd>
        <dd>
          <a href="https://github.com/w3c/manifest/commits/gh-pages">Commit
          history.</a>
        </dd>
        <dd>
          <a href=
          "https://lists.w3.org/Archives/Public/public-webapps/">Mailing
          list.</a>
        </dd>
        <dt>
          Implementation status:
        </dt>
        <dd>
          <a href=
          "https://bugzilla.mozilla.org/show_bug.cgi?id=997779">Gecko</a>
        </dd>
        <dd>
          <a href=
          "https://code.google.com/p/chromium/issues/detail?id=366145">Blink</a>
        </dd>
      </dl>
      <p class="copyright">
        <a href=
        "http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>
        © 2016 <a href="http://www.w3.org/"><abbr title=
        "World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href=
        "http://www.csail.mit.edu/"><abbr title=
        "Massachusetts Institute of Technology">MIT</abbr></a>, <a href=
        "http://www.ercim.eu/"><abbr title=
        "European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
        <a href="http://www.keio.ac.jp/">Keio</a>, <a href=
        "http://ev.buaa.edu.cn/">Beihang</a>). <abbr title=
        "World Wide Web Consortium">W3C</abbr> <a href=
        "http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
        <a href=
        "http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a>
        and <a rel="license" href=
        "http://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">
        permissive document license</a> rules apply.
      </p>
      <hr title="Separator for header">
    </div>
    <section class="introductory" id="abstract">
      <h2>
        Abstract
      </h2>
      <p>
        This specification defines a JSON-based manifest file that provides
        developers with a centralized place to put metadata associated with a
        web application. This metadata includes, but is not limited to, the web
        application's name, links to icons, as well as the preferred URL to
        open when a user launches the web application. The manifest also allows
        developers to declare a default orientation for their web application,
        as well as providing the ability to set the display mode for the
        application (e.g., in fullscreen). Additionally, the manifest allows a
        developer to "scope" a web application to a URL. This restricts the
        URLs to which the manifest is applied and provides a means to "deep
        link" into a web application from other applications.
      </p>
      <p>
        Using this metadata, user agents can provide developers with means to
        create user experiences that are more comparable to that of a native
        application.
      </p>
      <p>
        To associate documents of a web application with a manifest, this
        specification defines the <code>manifest</code> link type as a
        declarative means for a document to be associated with a manifest.
      </p>
    </section>
    <section id="sotd" class="introductory">
      <h2>
        Status of This Document
      </h2>
      <p>
        <em>This section describes the status of this document at the time of
        its publication. Other documents may supersede this document. A list of
        current <abbr title="World Wide Web Consortium">W3C</abbr> publications
        and the latest revision of this technical report can be found in the
        <a href="http://www.w3.org/TR/"><abbr title=
        "World Wide Web Consortium">W3C</abbr> technical reports index</a> at
        http://www.w3.org/TR/.</em>
      </p>
      <div class="warning">
        <div class="warning-title marker">
          <span>Warning</span>
        </div>
        <div class="">
          <p>
            Implementors need to be aware that this specification is not
            stable. However, aspects of this specification are shipping in at
            least one browser (see links to implementation status at the top of
            this document). <strong>Implementors who are not taking part in the
            discussions will find the specification changing out from under
            them in incompatible ways.</strong> Vendors interested in
            implementing this specification before it eventually reaches the
            Candidate Recommendation phase should <a href=
            "https://github.com/w3c/manifest/issues">subscribe to the
            repository on GitHub</a> and take part in the discussions.
          </p>
        </div>
      </div>
      <p>
        This document was published by the <a href=
        "http://www.w3.org/WebPlatform/WG/">Web Platform Working Group</a> as a
        Working Draft. If you wish to make comments regarding this document,
        please send them to <a href=
        "mailto:public-webapps@w3.org">public-webapps@w3.org</a> (<a href=
        "mailto:public-webapps-request@w3.org?subject=subscribe">subscribe</a>,
        <a href=
        "http://lists.w3.org/Archives/Public/public-webapps/">archives</a>).
        All comments are welcome.
      </p>
      <p>
        Publication as a Working Draft does not imply endorsement by the
        <abbr title="World Wide Web Consortium">W3C</abbr> Membership. This is
        a draft document and may be updated, replaced or obsoleted by other
        documents at any time. It is inappropriate to cite this document as
        other than work in progress.
      </p>
      <p>
        This document was produced by a group operating under the <a href=
        "http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004
        <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
        <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href=
        "http://www.w3.org/2004/01/pp-impl/83482/status" rel=
        "disclosure">public list of any patent disclosures</a> made in
        connection with the deliverables of the group; that page also includes
        instructions for disclosing a patent. An individual who has actual
        knowledge of a patent which the individual believes contains <a href=
        "http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential
        Claim(s)</a> must disclose the information in accordance with <a href=
        "http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section
        6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent
        Policy</a>.
      </p>
      <p>
        The group does not expect this document to become a <abbr title=
        "World Wide Web Consortium">W3C</abbr> Recommendation. It is expected
        to become a <abbr title="World Wide Web Consortium">W3C</abbr> Note.
      </p>
      <p>
        This document is governed by the <a id="w3c_process_revision" href=
        "http://www.w3.org/2015/Process-20150901/">1 September 2015
        <abbr title="World Wide Web Consortium">W3C</abbr> Process
        Document</a>.
      </p>
    </section>
    <nav id="toc">
      <h2 id="table-of-contents" class="introductory">
        Table of Contents
      </h2>
      <ul role="directory" class="toc">
        <li class="tocline">
          <a class="tocxref" href="#usage-examples"><span class=
          "secno">1.</span> Usage Examples</a>
          <ul class="toc">
            <li class="tocline">
              <a class="tocxref" href="#example-manifest"><span class=
              "secno">1.1</span> Example manifest</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href=
              "#using-a-link-element-to-link-to-a-manifest"><span class=
              "secno">1.2</span> Using a <code>link</code> element to link to a
              manifest</a>
            </li>
          </ul>
        </li>
        <li class="tocline">
          <a class="tocxref" href="#installable-web-applications"><span class=
          "secno">2.</span> Installable web applications</a>
          <ul class="toc">
            <li class="tocline">
              <a class="tocxref" href=
              "#authority-of-the-manifest-s-metadata"><span class=
              "secno">2.1</span> Authority of the manifest's metadata</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href="#installability-signals"><span class=
              "secno">2.2</span> Installability signals</a>
            </li>
          </ul>
        </li>
        <li class="tocline">
          <a class="tocxref" href="#navigation-scope"><span class=
          "secno">3.</span> Navigation scope</a>
          <ul class="toc">
            <li class="tocline">
              <a class="tocxref" href=
              "#navigation-scope-security-considerations"><span class=
              "secno">3.1</span> Security considerations</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href="#deep-links"><span class=
              "secno">3.2</span> Deep links</a>
            </li>
          </ul>
        </li>
        <li class="tocline">
          <a class="tocxref" href="#display-modes"><span class=
          "secno">4.</span> Display modes</a>
          <ul class="toc">
            <li class="tocline">
              <a class="tocxref" href=
              "#the-display-mode-media-feature"><span class="secno">4.1</span>
              The <code>'display-mode'</code> media feature</a>
              <ul class="toc">
                <li class="tocline">
                  <a class="tocxref" href="#examples"><span class=
                  "secno">4.1.1</span> Examples</a>
                </li>
                <li class="tocline">
                  <a class="tocxref" href=
                  "#security-and-privacy-considerations"><span class=
                  "secno">4.1.2</span> Security and privacy considerations</a>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li class="tocline">
          <a class="tocxref" href=
          "#associating-a-resource-with-a-manifest"><span class=
          "secno">5.</span> Associating a resource with a manifest</a>
          <ul class="toc">
            <li class="tocline">
              <a class="tocxref" href="#linking"><span class="secno">5.1</span>
              Linking to a manifest</a>
            </li>
          </ul>
        </li>
        <li class="tocline">
          <a class="tocxref" href="#manifest-life-cycle"><span class=
          "secno">6.</span> Manifest life-cycle</a>
          <ul class="toc">
            <li class="tocline">
              <a class="tocxref" href="#obtaining"><span class=
              "secno">6.1</span> Obtaining a manifest</a>
              <ul class="toc">
                <li class="tocline">
                  <a class="tocxref" href=
                  "#content-security-policy"><span class="secno">6.1.1</span>
                  Content security policy</a>
                </li>
              </ul>
            </li>
            <li class="tocline">
              <a class="tocxref" href="#processing"><span class=
              "secno">6.2</span> Processing the manifest</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href="#applying"><span class=
              "secno">6.3</span> Applying the manifest</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href="#updating"><span class=
              "secno">6.4</span> Updating the manifest</a>
            </li>
          </ul>
        </li>
        <li class="tocline">
          <a class="tocxref" href="#manifest-and-its-members"><span class=
          "secno">7.</span> Manifest and its members</a>
          <ul class="toc">
            <li class="tocline">
              <a class="tocxref" href="#lang-member"><span class=
              "secno">7.1</span> <code>lang</code> member</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href="#name-member"><span class=
              "secno">7.2</span> <code title="">name</code> member</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href="#short_name-member"><span class=
              "secno">7.3</span> <code title="">short_name</code> member</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href="#scope-member"><span class=
              "secno">7.4</span> <code>scope</code> member</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href="#splash_screens-member"><span class=
              "secno">7.5</span> <code title="">splash_screens</code>
              member</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href="#icons-member"><span class=
              "secno">7.6</span> <code title="">icons</code> member</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href="#display-member"><span class=
              "secno">7.7</span> <code>display</code> member</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href="#orientation-member"><span class=
              "secno">7.8</span> <code>orientation</code> member</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href="#start_url-member"><span class=
              "secno">7.9</span> <code>start_url</code> member</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href="#theme_color-member"><span class=
              "secno">7.10</span> <code title="">theme_color</code> member</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href=
              "#related_applications-member"><span class="secno">7.11</span>
              <code title="">related_applications</code> member</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href=
              "#prefer_related_applications-member"><span class=
              "secno">7.12</span> <code title=
              "">prefer_related_applications</code> member</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href="#background_color-member"><span class=
              "secno">7.13</span> <code title="">background_color</code>
              member</a>
            </li>
          </ul>
        </li>
        <li class="tocline">
          <a class="tocxref" href="#image-object-and-its-members"><span class=
          "secno">8.</span> Image object and its members</a>
          <ul class="toc">
            <li class="tocline">
              <a class="tocxref" href=
              "#content-security-policy-of-image-objects"><span class=
              "secno">8.1</span> Content security policy of image objects</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href="#density-member"><span class=
              "secno">8.2</span> <code>density</code> member</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href="#sizes-member"><span class=
              "secno">8.3</span> <code>sizes</code> member</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href="#src-member"><span class=
              "secno">8.4</span> <code>src</code> member</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href="#type-member"><span class=
              "secno">8.5</span> <code>type</code> member</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href=
              "#processing-an-array-of-images"><span class="secno">8.6</span>
              Processing an array of images</a>
            </li>
          </ul>
        </li>
        <li class="tocline">
          <a class="tocxref" href=
          "#application-object-and-its-members"><span class="secno">9.</span>
          Application object and its members</a>
          <ul class="toc">
            <li class="tocline">
              <a class="tocxref" href="#platform-member"><span class=
              "secno">9.1</span> <code>platform</code> member</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href="#url-member"><span class=
              "secno">9.2</span> <code>url</code> member</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href="#id-member"><span class=
              "secno">9.3</span> <code>id</code> member</a>
            </li>
          </ul>
        </li>
        <li class="tocline">
          <a class="tocxref" href=
          "#common-conventions-and-dependencies"><span class="secno">10.</span>
          Common conventions and dependencies</a>
        </li>
        <li class="tocline">
          <a class="tocxref" href="#iana-considerations"><span class=
          "secno">11.</span> IANA considerations</a>
          <ul class="toc">
            <li class="tocline">
              <a class="tocxref" href="#media-type-registration"><span class=
              "secno">11.1</span> Media type registration</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href=
              "#link-relation-type-registration"><span class=
              "secno">11.2</span> Link relation type registration</a>
            </li>
          </ul>
        </li>
        <li class="tocline">
          <a class="tocxref" href="#conformance"><span class="secno">12.</span>
          Conformance</a>
          <ul class="toc">
            <li class="tocline">
              <a class="tocxref" href="#extensibility"><span class=
              "secno">12.1</span> Extensibility</a>
              <ul class="toc">
                <li class="tocline">
                  <a class="tocxref" href=
                  "#proprietary-extensions"><span class="secno">12.1.1</span>
                  Proprietary manifest members</a>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li class="tocline">
          <a class="tocxref" href=
          "#relationship-to-html-s-link-and-meta-elements"><span class=
          "secno">A.</span> Relationship to HTML's <code>link</code> and
          <code>meta</code> elements</a>
        </li>
        <li class="tocline">
          <a class="tocxref" href="#json-schema"><span class="secno">B.</span>
          JSON Schema</a>
        </li>
        <li class="tocline">
          <a class="tocxref" href="#internationalization"><span class=
          "secno">C.</span> internationalization</a>
        </li>
        <li class="tocline">
          <a class="tocxref" href="#issue-summary"><span class=
          "secno">D.</span> Issue Summary</a>
        </li>
        <li class="tocline">
          <a class="tocxref" href="#acknowledgments"><span class=
          "secno">E.</span> Acknowledgments</a>
        </li>
        <li class="tocline">
          <a class="tocxref" href="#references"><span class="secno">F.</span>
          References</a>
          <ul class="toc">
            <li class="tocline">
              <a class="tocxref" href="#normative-references"><span class=
              "secno">F.1</span> Normative references</a>
            </li>
            <li class="tocline">
              <a class="tocxref" href="#informative-references"><span class=
              "secno">F.2</span> Informative references</a>
            </li>
          </ul>
        </li>
      </ul>
    </nav>
    <section id="usage-examples" class="informative">
      <!--OddPage-->
      <h2>
        <span class="secno">1.</span> Usage Examples
      </h2>
      <p>
        <em>This section is non-normative.</em>
      </p>
      <p>
        This section shows how developers can make use of the various features
        of this specification.
      </p>
      <section id="example-manifest" class="informative">
        <h3>
          <span class="secno">1.1</span> Example manifest
        </h3>
        <p>
          <em>This section is non-normative.</em>
        </p>
        <p>
          The following shows a typical <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-manifest">manifest</a>.
        </p>
        <div class="example">
          <div class="example-title marker">
            <span>Example 1</span><span style="text-transform: none">: typical
            manifest</span>
          </div>
          <pre style="" class="highlight json prettyprint prettyprinted">
          <span class="pun">{</span><span class="pln">
  </span><span class="str">"lang"</span><span class="pun">:</span><span class=
"pln"> </span><span class="str">"en"</span><span class=
"pun">,</span><span class="pln">
  </span><span class="str">"name"</span><span class="pun">:</span><span class=
"pln"> </span><span class="str">"Super Racer 2000"</span><span class=
"pun">,</span><span class="pln">
  </span><span class="str">"short_name"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"Racer2K"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"icons"</span><span class="pun">:</span><span class=
"pln"> </span><span class="pun">[{</span><span class="pln">
        </span><span class="str">"src"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"icon/lowres"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"sizes"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"64x64"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"type"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"image/webp"</span><span class="pln">
      </span><span class="pun">},</span><span class="pln"> </span><span class=
"pun">{</span><span class="pln">
        </span><span class="str">"src"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"icon/hd_small"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"sizes"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"64x64"</span><span class="pln">
      </span><span class="pun">},</span><span class="pln"> </span><span class=
"pun">{</span><span class="pln">
        </span><span class="str">"src"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"icon/hd_hi"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"sizes"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"128x128"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"density"</span><span class=
"pun">:</span><span class="pln"> </span><span class="lit">2</span><span class=
"pln">
      </span><span class="pun">}],</span><span class="pln">
  </span><span class="str">"splash_screens"</span><span class=
"pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class=
"pln">
        </span><span class="str">"src"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"splash/lowres"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"sizes"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"320x240"</span><span class="pln">
      </span><span class="pun">},</span><span class="pln"> </span><span class=
"pun">{</span><span class="pln">
        </span><span class="str">"src"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"splash/hd_small"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"sizes"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"1334x750"</span><span class="pln">
      </span><span class="pun">},</span><span class="pln"> </span><span class=
"pun">{</span><span class="pln">
        </span><span class="str">"src"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"splash/hd_hi"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"sizes"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"1920x1080"</span><span class="pun">,</span><span class="pln">
        </span><span class="str">"density"</span><span class=
"pun">:</span><span class="pln"> </span><span class="lit">3</span><span class=
"pln">
      </span><span class="pun">}],</span><span class="pln">
  </span><span class="str">"scope"</span><span class="pun">:</span><span class=
"pln"> </span><span class="str">"/racer/"</span><span class=
"pun">,</span><span class="pln">
  </span><span class="str">"start_url"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"/racer/start.html"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"display"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"fullscreen"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"orientation"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"landscape"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"theme_color"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"aliceblue"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"background_color"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"red"</span><span class="pln">
</span><span class="pun">}</span></pre>
        </div>
      </section>
      <section id="using-a-link-element-to-link-to-a-manifest" class=
      "informative">
        <h3>
          <span class="secno">1.2</span> Using a <code>link</code> element to
          link to a manifest
        </h3>
        <p>
          <em>This section is non-normative.</em>
        </p>
        <p>
          Example of using a <code>link</code> element to associate a website
          with a <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-manifest">manifest</a>. The example also shows how to use
          [<cite><a href="#bib-HTML" class="bibref">HTML</a></cite>]'s
          <code>link</code> and <code>meta</code> elements to give the web
          application a fallback name and set of icons.
        </p>
        <div class="example">
          <div class="example-title marker">
            <span>Example 2</span><span style="text-transform: none">: linking
            to a manifest</span>
          </div>
          <pre style="" class="highlight html prettyprint prettyprinted">
          <span class="dec">&lt;!doctype&gt;</span><span class="pln">
</span><span class="tag">&lt;html&gt;</span><span class="pln">
</span><span class="tag">&lt;title&gt;</span><span class=
"pln">Super Racer 2000</span><span class=
"tag">&lt;/title&gt;</span><span class="pln">

</span><span class=
"com">&lt;!-- Startup configuration --&gt;</span><span class="pln">
</span><span class="tag">&lt;link</span><span class="pln"> </span><span class=
"atn">rel</span><span class="pun">=</span><span class=
"atv">"manifest"</span><span class="pln"> </span><span class=
"atn">href</span><span class="pun">=</span><span class=
"atv">"manifest.webmanifest"</span><span class="tag">&gt;</span><span class=
"pln">

</span><span class=
"com">&lt;!-- Fallback application metadata for legacy browsers --&gt;</span><span class="pln">
</span><span class="tag">&lt;meta</span><span class="pln"> </span><span class=
"atn">name</span><span class="pun">=</span><span class=
"atv">"application-name"</span><span class="pln"> </span><span class=
"atn">content</span><span class="pun">=</span><span class=
"atv">"Racer2K"</span><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;link</span><span class="pln"> </span><span class=
"atn">rel</span><span class="pun">=</span><span class=
"atv">"icon"</span><span class="pln"> </span><span class=
"atn">sizes</span><span class="pun">=</span><span class=
"atv">"16x16 32x32 48x48"</span><span class="pln"> </span><span class=
"atn">href</span><span class="pun">=</span><span class=
"atv">"lo_def.ico"</span><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;link</span><span class="pln"> </span><span class=
"atn">rel</span><span class="pun">=</span><span class=
"atv">"icon"</span><span class="pln"> </span><span class=
"atn">sizes</span><span class="pun">=</span><span class=
"atv">"512x512"</span><span class="pln"> </span><span class=
"atn">href</span><span class="pun">=</span><span class=
"atv">"hi_def.png"</span><span class="tag">&gt;</span></pre>
        </div>
      </section>
    </section>
    <section id="installable-web-applications">
      <!--OddPage-->
      <h2>
        <span class="secno">2.</span> Installable web applications
      </h2>
      <p>
        This document attempts to address the <cite><a href=
        "https://w3c-webmob.github.io/installable-webapps/">Use Cases and
        Requirements for Installable Web Apps</a></cite> .
      </p>
      <p>
        A web application is <dfn id="dfn-installed" data-dfn-type=
        "dfn">installed</dfn> if the user agent has provided the end-user with
        a means of instantiating a new <a data-link-type="dfn" class=
        "internalDFN" href="#dfn-top-level-browsing-context">top-level browsing
        context</a> that has the manifest's members applied to it. That is, the
        manifest's members, or their defaults, are in effect on the
        <a data-link-type="dfn" class="internalDFN" href=
        "#dfn-top-level-browsing-context">top-level browsing context</a> (see
        <a data-link-type="dfn" class="internalDFN" href=
        "#dfn-application-context">application context</a>).
      </p>
      <p>
        An example of <a data-link-type="dfn" class="internalDFN" href=
        "#dfn-installed">installing</a> would be a user agent that allows the
        end-user to add a shortcut to a web application on their device's
        homescreen (using the name and one of the icons found in the manifest).
        Then, when the end-user launches a web application through this
        explicit means, the manifest is applied to the browsing context prior
        to the <a data-link-type="dfn" class="internalDFN" href=
        "#dfn-start-url">start URL</a> being loaded. This gives the user agent
        time to apply the relevant values of the manifest, possibly changing
        the display mode and screen orientation of the web application.
      </p>
      <p>
        Alternatively, an application context can be launched through a
        <a data-link-type="dfn" class="internalDFN" href="#dfn-deep-link">deep
        link</a> (a URL that is within scope of the installed web application);
        in which case, the manifest is applied and the deep link is loaded
        within the context of web application.
      </p>
      <section id="authority-of-the-manifest-s-metadata">
        <h3>
          <span class="secno">2.1</span> Authority of the manifest's metadata
        </h3>
        <p>
          When a <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-manifest">manifest</a> is linked from a <code>Document</code>,
          it indicates to the user agent that the metadata is <dfn id=
          "dfn-authoritative" data-dfn-type="dfn">authoritative</dfn>: that is,
          the user agent <em title="SHOULD" class="rfc2119">SHOULD</em> use the
          metadata of the manifest instead of the one in the
          <code>Document</code>. However, in cases where metadata is missing,
          or in error, a user agent <em title="MAY" class="rfc2119">MAY</em>
          fallback to the <code>Document</code> to find suitable replacements
          for missing manifest members (e.g., using
          <code>application-name</code> in place of <code>short_name</code>).
        </p>
      </section>
      <section id="installability-signals" class="informative">
        <h3>
          <span class="secno">2.2</span> Installability signals
        </h3>
        <p>
          <em>This section is non-normative.</em>
        </p>
        <p>
          By design, this specification does not provide developers with an
          explicit API to "install" a web application. Instead, a
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-manifest">manifest</a> can serve as an <dfn id=
          "dfn-installability-signal" data-dfn-type="dfn">installability
          signal</dfn> to a user agent that a web application can be
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-installed">installed</a>.
        </p>
        <p>
          Examples of <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-installability-signal">installability signals</a> for a web
          application:
        </p>
        <ul>
          <li>is <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-associated-with-a-manifest">associated with a manifest</a> with
          at least a <code>name</code> member and a suitable icon.
          </li>
          <li>is served over a secure network connection.
          </li>
          <li>has a sensible content security policy.
          </li>
          <li>is able to responsibly adapt to display on a variety of screen
          sizes, catering for both mobile and desktop.
          </li>
          <li>is able to function without a network connection.
          </li>
          <li>is repeatedly used by the end-user over some extended period of
          time.
          </li>
          <li>has been explicitly marked by the user as one that they value and
          trust (e.g., by bookmarking or "starring" it).
          </li>
        </ul>
        <p>
          This list is not exhaustive and some <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-installability-signal">installability
          signals</a> might not apply to all user agents. How a user agent
          makes use of these <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-installability-signal">installability signals</a> to determine
          if a web application can be <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-installed">installed</a> is left to
          implementers.
        </p>
      </section>
    </section>
    <section id="navigation-scope">
      <!--OddPage-->
      <h2>
        <span class="secno">3.</span> Navigation scope
      </h2>
      <p>
        A <dfn id="dfn-navigation-scope" data-dfn-type="dfn">navigation
        scope</dfn> is a [<cite><a href="#bib-URL" class=
        "bibref">URL</a></cite>] that represents the set of URLs to which an
        <a data-link-type="dfn" class="internalDFN" href=
        "#dfn-application-context">application context</a> can be navigated
        while the manifest is <a data-link-type="dfn" class="internalDFN" href=
        "#dfn-applied">applied</a>. To determine if a URL is within the
        <a data-link-type="dfn" class="internalDFN" href=
        "#dfn-navigation-scope">navigation scope</a>, the user agent <em title=
        "MUST" class="rfc2119">MUST</em> run the <a data-link-type="dfn" class=
        "internalDFN" href="#dfn-within-scope">within scope</a> algorithm.
      </p>
      <p>
        A string <var>targetURL</var> is said the be <dfn id="dfn-within-scope"
        data-dfn-type="dfn">within scope</dfn> of <a data-link-type="dfn"
        class="internalDFN" href="#dfn-navigation-scope">navigation scope</a>
        <var>scopeURL</var> if the following algorithm returns
        <code>true</code>:
      </p>
      <ol>
        <li>If <var>scopeURL</var> is <code>undefined</code> (i.e., it is
        <a data-link-type="dfn" class="internalDFN" href=
        "#dfn-unbounded">unbounded</a> because of an error or it was not
        declared in the manifest), return <code>true</code>.
        </li>
        <li>Let <var>target</var> be a new URL using <var>targetURL</var> as
        input. If <var>target</var> is failure, return <code>false</code>.
        </li>
        <li>If <var>target</var> is <a data-link-type="dfn" class="internalDFN"
          href="#dfn-same-origin-1">same origin</a> as <var>scope</var> and
          <var>target</var>'s <code>pathname</code> starts with
          <var>scope</var>'s <code>pathname</code>, return <code>true</code>.
        </li>
        <li>Otherwise, return <code>false</code>.
        </li>
      </ol>
      <div class="issue">
        <div id="h-issue1" role="heading" aria-level="3" class=
        "issue-title marker">
          <span>Issue</span><span style="text-transform: none">: 🐒 Monkey
          patch</span>
        </div>
        <div class="">
          <p>
            Enforcing the navigation scope depends on [<cite><a href=
            "#bib-HTML" class="bibref">HTML</a></cite>]'s navigate algorithm.
            As such, the following algorithm monkey patches [<cite><a href=
            "#bib-HTML" class="bibref">HTML</a></cite>]. <a href=
            "https://www.w3.org/Bugs/Public/show_bug.cgi?id=27653">Bug
            27653</a> has been filed to address this.
          </p>
        </div>
      </div>
      <p>
        The user agent <em title="MUST" class="rfc2119">MUST</em> navigate the
        application context as per [<cite><a href="#bib-HTML" class=
        "bibref">HTML</a></cite>]'s <a data-link-type="dfn" class="internalDFN"
        href="#dfn-navigate-algorithm">navigate algorithm</a> with exceptions
        enabled. If the URL of the resource being loaded in the navigation is
        not <a data-link-type="dfn" class="internalDFN" href=
        "#dfn-within-scope">within scope</a> of the navigation scope, then the
        user agent <em title="MUST" class="rfc2119">MUST</em> behave as if the
        application context is not <a data-link-type="dfn" class="internalDFN"
        href="#dfn-allowed-to-navigate">allowed to navigate</a> (this provides
        the ability for the user agent to perform the navigation in a different
        browsing context, or in a different user agent entirely). If during the
        handle redirects step of HTML's <a data-link-type="dfn" class=
        "internalDFN" href="#dfn-navigate-algorithm">navigate algorithm</a> the
        redirect URL is not <a data-link-type="dfn" class="internalDFN" href=
        "#dfn-within-scope">within scope</a>, abort HTML's navigation algorithm
        with a <code>SecurityError</code>.
      </p>
      <p>
        A developer specifies the navigation scope via the <a data-link-type=
        "dfn" class="internalDFN" href="#member-scope"><code>scope</code>
        member</a>. In the case where the <a data-link-type="dfn" class=
        "internalDFN" href="#member-scope"><code>scope</code> member</a> is
        missing or in error, the navigation scope is treated as <dfn id=
        "dfn-unbounded" data-dfn-type="dfn">unbounded</dfn> (represented as the
        value <code>undefined</code>). In such a case, the manifest is applied
        to all URLs the application context is <a data-link-type="dfn" class=
        "internalDFN" href="#dfn-navigate-algorithm">navigated</a> to (see
        related <a href="#navigation-scope-security-considerations">security
        considerations</a>).
      </p>
      <section>
        <h3 id="navigation-scope-security-considerations">
          <span class="secno">3.1</span> Security considerations
        </h3>
        <p>
          When the navigation scope is <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-unbounded">unbounded</a> and a
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-display-mode">display mode</a> other than <code>browser</code>
          is being applied, it is <em title="RECOMMENDED" class=
          "rfc2119">RECOMMENDED</em> that user agents signal to the end-user
          when security and/or privacy sensitive navigations occur. The manner
          of signaling is left up to implementers, but can include things like
          showing the URL of the application context, dropping out of
          fullscreen to the browser display mode. Examples of security and/or
          privacy sensitive navigations include, but are not limited to:
        </p>
        <ul>
          <li>the application context being <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-navigate-algorithm">navigated</a> from a
          secure connection to an insecure connection (or vice versa).
          </li>
          <li>the application context being <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-navigate-algorithm">navigated</a> to a
          different origin.
          </li>
        </ul>
        <p>
          This specification distinguishes between behavior in first-party and
          third-party contexts. In particular, if a <code>scope</code> member
          is declared in the manifest, it is not possible to navigate the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-top-level-browsing-context">top-level browsing context</a> to
          somewhere outside the scope while the <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-manifest">manifest</a> is <a data-link-type=
          "dfn" class="internalDFN" href="#dfn-applied">applied</a> to the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-top-level-browsing-context">top-level browsing context</a>.
          That's not to say that the web application cannot be navigated: just
          that the set of URLs to which the manifest applies is restricted by
          the <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-navigation-scope">navigation scope</a>.
        </p>
      </section>
      <section id="deep-links">
        <h3>
          <span class="secno">3.2</span> Deep links
        </h3>
        <div id="issue-363" class="issue">
          <div id="h-issue2" role="heading" aria-level="4" class=
          "issue-title marker">
            <a href=
            "https://www.github.com/w3c/manifest/issues/363"><span>Issue
            363</span></a><span style="text-transform: none">: Deep linking -
            need proper use cases and requirements analysis</span>
          </div>
          <p>
            In <a href=
            "https://github.com/w3c/manifest/issues/332#issuecomment-83960468"
            class="issue-link js-issue-link" data-url=
            "https://github.com/w3c/manifest/issues/332" data-id="62015147"
            data-error-text="Failed to load issue title" data-permission-text=
            "Issue title is private">#332 (comment)</a>, <a href=
            "https://github.com/PaulKinlan" class=
            "user-mention">@PaulKinlan</a> said:
          </p>
          <blockquote>
            <p>
              Also deeplinking, the section in the spec makes no sense. Is
              there a plan for it to be expanded? I ask because Deep linking on
              Android has a very specific configuration, and I would expect to
              see some configuration of ownership of multiple paths, protocols
              etc (potentialy via a scope).
            </p>
          </blockquote>
          <p>
            We should do a proper analysis of how this stuff works on Android.
            What is currently in the spec may indeed be insufficient.
          </p>
        </div>
        <p>
          A <dfn id="dfn-deep-link" data-dfn-type="dfn">deep link</dfn> is a
          URL that is <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-within-scope">within scope</a> of an <a data-link-type="dfn"
          class="internalDFN" href="#dfn-installed">installed</a> web
          application.
        </p>
        <div class="note">
          <div id="h-note1" role="heading" aria-level="4" class=
          "note-title marker">
            <span>Note</span>
          </div>
          <div class="">
            <p>
              The concept of a <a data-link-type="dfn" class="internalDFN"
              href="#dfn-deep-link">deep link</a> is useful in that it allows
              hyperlinking from one installed application to another. This can
              be from a native application to an <a data-link-type="dfn" class=
              "internalDFN" href="#dfn-installed">installed</a> web application
              (and possibly vice versa!). Theoretically, this can provide
              seamless context switching between native and web applications
              through standard hyperlinks. And in the case where a particular
              web application is not <a data-link-type="dfn" class=
              "internalDFN" href="#dfn-installed">installed</a>, the
              <abbr title="operating system">OS</abbr> can just open the link
              in the user's preferred web browser.
            </p>
            <p>
              Implementers are encouraged make such context switching obvious
              to the user, for example, by adhering to the human interface
              guidelines of the underlying platform with respect to application
              switching.
            </p>
          </div>
        </div>
      </section>
    </section>
    <section id="display-modes">
      <!--OddPage-->
      <h2>
        <span class="secno">4.</span> Display modes
      </h2>
      <p>
        A <dfn id="dfn-display-mode" data-dfn-type="dfn">display mode</dfn>
        represents how the web application is being presented within the
        context of an <abbr title="operating system">OS</abbr> (e.g., in
        fullscreen, etc.). Display modes correspond to user interface (UI)
        metaphors and functionality in use on a given platform. The UI
        conventions of the display modes are purely advisory and implementers
        are free to interpret them how they best see fit.
      </p>
      <p>
        Once a user agent applies a particular <a data-link-type="dfn" class=
        "internalDFN" href="#dfn-display-mode">display mode</a> to an
        <a data-link-type="dfn" class="internalDFN" href=
        "#dfn-application-context">application context</a>, it becomes the
        <dfn id="dfn-default-display-mode" data-dfn-type="dfn">default display
        mode</dfn> for the <a data-link-type="dfn" class="internalDFN" href=
        "#dfn-top-level-browsing-context">top-level browsing context</a> (i.e.,
        it is used as the display mode when the window is <a data-link-type=
        "dfn" class="internalDFN" href=
        "#dfn-navigate-algorithm">navigated</a>). The user agent <em title=
        "MAY" class="rfc2119">MAY</em> override the <a data-link-type="dfn"
        class="internalDFN" href="#dfn-default-display-mode">default display
        mode</a> for security reasons (e.g., the <a data-link-type="dfn" class=
        "internalDFN" href="#dfn-top-level-browsing-context">top-level browsing
        context</a> is <a data-link-type="dfn" class="internalDFN" href=
        "#dfn-navigate-algorithm">navigated</a> to another origin) and/or the
        user agent <em title="MAY" class="rfc2119">MAY</em> provide the user
        with a means of switching to another <a data-link-type="dfn" class=
        "internalDFN" href="#dfn-display-mode">display mode</a>.
      </p>
      <p>
        When the <code>display</code> member is missing, or if there is no
        valid <code>display</code> member, the user agent uses the
        <code>browser</code> <a data-link-type="dfn" class="internalDFN" href=
        "#dfn-display-mode">display mode</a> as the <a data-link-type="dfn"
        class="internalDFN" href="#dfn-default-display-mode">default display
        mode</a>. As such, the user agent is <em title="REQUIRED" class=
        "rfc2119">REQUIRED</em> to support the <code>browser</code>
        <a data-link-type="dfn" class="internalDFN" href=
        "#dfn-display-mode">display mode</a>.
      </p>
      <p>
        Each <a data-link-type="dfn" class="internalDFN" href=
        "#dfn-display-mode">display mode</a>, except <code>browser</code>, has
        a <dfn id="dfn-fallback-display-mode" data-dfn-type="dfn">fallback
        display mode</dfn>, which is the <a data-link-type="dfn" class=
        "internalDFN" href="#dfn-display-mode">display mode</a> that the user
        agent can try to use if it doesn't support a particular
        <a data-link-type="dfn" class="internalDFN" href=
        "#dfn-display-mode">display mode</a>. If the user agent does support a
        <a data-link-type="dfn" class="internalDFN" href=
        "#dfn-fallback-display-mode">fallback display mode</a>, then it checks
        to see if it can use that <a data-link-type="dfn" class="internalDFN"
        href="#dfn-display-mode">display mode</a>'s <a data-link-type="dfn"
        class="internalDFN" href="#dfn-fallback-display-mode">fallback display
        mode</a>. This creates a fallback chain, with the <a data-link-type=
        "dfn" class="internalDFN" href="#dfn-default-display-mode">default
        display mode</a> (<code>browser</code>) being the last item in the
        chain.
      </p>
      <div class="example">
        <p>
          For example, Awesome Browser only supports the
          <code>minimal-ui</code> and <code>browser</code> display modes, but a
          developer declares that she wants <code>fullscreen</code> in the
          manifest. In this case, the user agent will first check if it
          supports <code>fullscreen</code> (it doesn't), so it falls back to
          <code>standalone</code> (which it also doesn't support), and
          ultimately falls back to <code>minimal-ui</code>.
        </p>
      </div>
      <p>
        The <dfn id="dfn-display-modes-values" data-dfn-type="dfn">display
        modes values</dfn> and their corresponding <a data-link-type="dfn"
        class="internalDFN" href="#dfn-fallback-display-mode">fallback display
        modes</a> are as follows:
      </p>
      <dl>
        <dt>
          <dfn data-dfn-type="dfn" id="dm-fullscreen">fullscreen</dfn>
        </dt>
        <dd>
          Opens the web application without any user agent chrome and takes up
          the entirety of the available display area.
        </dd>
        <dd>
          The <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-fallback-display-mode">fallback display mode</a> for
          <code>fullscreen</code> is <code>standalone</code>.
        </dd>
        <dt>
          <dfn data-dfn-type="dfn" id="dm-standalone">standalone</dfn>
        </dt>
        <dd>
          Opens the web application to look and feel like a standalone native
          application. This can include the application having a different
          window, its own icon in the application launcher, etc. In this mode,
          the user agent will exclude UI elements for controlling navigation,
          but can include other UI elements such as a status bar.
        </dd>
        <dd>
          The <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-fallback-display-mode">fallback display mode</a> for
          <code>standalone</code> is <code>minimal-ui</code>.
        </dd>
        <dt>
          <dfn data-dfn-type="dfn" id="dm-minimal-ui">minimal-ui</dfn>
        </dt>
        <dd>
          This mode is similar to <a data-link-type="dfn" class="internalDFN"
          href="#dm-fullscreen">fullscreen</a>, but provides the end-user with
          some means to access a minimal set of UI elements for controlling
          navigation (i.e., back, forward, reload, and perhaps some way of
          viewing the document's address). A user agent can include other
          platform specific UI elements, such as "share" and "print" buttons or
          whatever is customary on the platform and user agent.
        </dd>
        <dd>
          The <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-fallback-display-mode">fallback display mode</a> for
          <code>minimal-ui</code> is <code>browser</code>.
        </dd>
        <dt>
          <dfn data-dfn-type="dfn" id="dm-browser">browser</dfn>
        </dt>
        <dd>
          Opens the web application using the platform-specific convention for
          opening hyperlinks in the user agent (e.g., in a browser tab or a new
          window).
        </dd>
        <dd>
          The <code>browser</code> <a data-link-type="dfn" class="internalDFN"
          href="#dfn-display-mode">display mode</a> doesn't have a
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-fallback-display-mode">fallback display mode</a> (conforming
          user agents are required to support the <code>browser</code>
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-display-mode">display mode</a>).
        </dd>
      </dl>
      <div class="note">
        <div id="h-note2" role="heading" aria-level="3" class=
        "note-title marker">
          <span>Note</span>
        </div>
        <p class="">
          The <a data-link-type="dfn" class="internalDFN" href=
          "#dm-fullscreen">fullscreen</a> <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-display-mode">display mode</a> is orthogonal
          to, and works independently of, the [<cite><a href=
          "#bib-WHATWG-FULLSCREEN" class="bibref">WHATWG-FULLSCREEN</a></cite>]
          API. The <a data-link-type="dfn" class="internalDFN" href=
          "#dm-fullscreen"><code>fullscreen</code></a> <a data-link-type="dfn"
          class="internalDFN" href="#dfn-display-mode">display mode</a> affects
          the fullscreen state of the browser window, while the [<cite><a href=
          "#bib-WHATWG-FULLSCREEN" class="bibref">WHATWG-FULLSCREEN</a></cite>]
          API operates on an element contained within the viewport. As such, a
          web application can have its <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-display-mode">display mode</a> set to
          <a data-link-type="dfn" class="internalDFN" href=
          "#dm-fullscreen"><code>fullscreen</code></a>, while
          <code>document.fullScreenElement</code> returns <code>null</code>,
          and <code>fullscreenEnabled</code> returns <code>false</code>.
        </p>
      </div>
      <section id="the-display-mode-media-feature">
        <h3>
          <span class="secno">4.1</span> The <code>'display-mode'</code> media
          feature
        </h3>
        <p>
          The <code><dfn id="dfn-display-mode-1" data-dfn-type=
          "dfn">display-mode</dfn></code> media feature represents, via a CSS
          media query [<cite><a href="#bib-MEDIAQ" class=
          "bibref">MEDIAQ</a></cite>], the <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-display-mode">display mode</a> of the web
          application. This media feature applies to the top-level browsing
          context and any child browsing contexts. Child browsing contexts
          reflect the <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-display-mode">display mode</a> of the <a data-link-type="dfn"
          class="internalDFN" href="#dfn-top-level-browsing-context">top-level
          browsing context</a>.
        </p>
        <p>
          A user agent <em title="MUST" class="rfc2119">MUST</em> expose the
          '<code>display-mode</code>' media feature irrespective of whether a
          manifest is being applied to a browsing context. For example, if the
          end-user puts the whole user agent into fullscreen, then the user
          agent would reflect this change to CSS and scripts via the
          '<code>display-mode</code>' media feature.
        </p>
        <div class="note">
          <div id="h-note3" role="heading" aria-level="4" class=
          "note-title marker">
            <span>Note</span>
          </div>
          <div class="">
            <p>
              Please note that the <code>fullscreen</code> <a data-link-type=
              "dfn" class="internalDFN" href="#dfn-display-mode">display
              mode</a> is not directly related to the CSS
              <code>:fullscreen</code> pseudo-class specified in the
              [<cite><a href="#bib-WHATWG-FULLSCREEN" class=
              "bibref">WHATWG-FULLSCREEN</a></cite>] API. The
              <code>:fullscreen</code> pseudo-class matches exclusively when a
              [<cite><a href="#bib-HTML" class="bibref">HTML</a></cite>]
              element is put into the fullscreen element stack. However, a side
              effect of calling the <code>requestFullscreen()</code> method on
              an element using the [<cite><a href="#bib-WHATWG-FULLSCREEN"
              class="bibref">WHATWG-FULLSCREEN</a></cite>] API is that the
              browser window can enter a fullscreen mode at the <abbr title=
              "operating system">OS</abbr>-level. In such a case, both
              <code>:fullscreen</code> and <code>(display-mode:
              fullscreen)</code> will match.
            </p>
            <p>
              On some platforms, it is possible for a user to put a browser
              window into fullscreen without the aid of the [<cite><a href=
              "#bib-WHATWG-FULLSCREEN" class=
              "bibref">WHATWG-FULLSCREEN</a></cite>] API. When this happens,
              the <code>:fullscreen</code> pseudo class will not match, but
              <code>(display-mode: fullscreen)</code> will match. This is
              exemplified in CSS code below.
            </p>
            <div class="example">
              <div class="example-title marker">
                <span>Example 3</span>
              </div>
              <pre style="" class="highlight prettyprint prettyprinted">
              <span class=
"com">/* applies when the window is fullscreen */</span><span class="pln">
</span><span class="lit">@media</span><span class=
"pln"> all </span><span class="kwd">and</span><span class=
"pln"> </span><span class="pun">(</span><span class=
"pln">display</span><span class="pun">-</span><span class=
"pln">mode</span><span class="pun">:</span><span class=
"pln"> fullscreen</span><span class="pun">)</span><span class=
"pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="pun">...</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class=
"com">/* applies when an element goes fullscreen */</span><span class="pln">
</span><span class="com">#game:fullsceen{</span><span class="pln">
    </span><span class="pun">...</span><span class="pln">
</span><span class="pun">}</span></pre>
            </div>
          </div>
        </div>
        <dl>
          <dt>
            Value:
          </dt>
          <dd>
            <a data-link-type="dfn" class="internalDFN" href=
            "#dm-fullscreen">fullscreen</a> | <a data-link-type="dfn" class=
            "internalDFN" href="#dm-standalone">standalone</a> |
            <a data-link-type="dfn" class="internalDFN" href=
            "#dm-minimal-ui">minimal-ui</a> | <a data-link-type="dfn" class=
            "internalDFN" href="#dm-browser">browser</a>
          </dd>
          <dt>
            Applies to:
          </dt>
          <dd>
            visual media types
          </dd>
          <dt>
            Accepts min/max prefixes:
          </dt>
          <dd>
            No
          </dd>
        </dl>
        <p>
          A user agent <em title="MUST" class="rfc2119">MUST</em> reflect the
          applied <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-display-mode">display mode</a> of the web application via a CSS
          media query [<cite><a href="#bib-MEDIAQ" class=
          "bibref">MEDIAQ</a></cite>].
        </p>
        <section id="examples">
          <h4>
            <span class="secno">4.1.1</span> Examples
          </h4>
          <p>
            An example in CSS:
          </p>
          <div class="example">
            <div class="example-title marker">
              <span>Example 4</span>
            </div>
            <pre style="" class="highlight prettyprint prettyprinted">
            <span class="lit">@media</span><span class=
"pln"> all </span><span class="kwd">and</span><span class=
"pln"> </span><span class="pun">(</span><span class=
"pln">display</span><span class="pun">-</span><span class=
"pln">mode</span><span class="pun">:</span><span class=
"pln"> minimal</span><span class="pun">-</span><span class=
"pln">ui</span><span class="pun">)</span><span class="pln"> </span><span class=
"pun">{</span><span class="pln">
  </span><span class="com">/* ... */</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="lit">@media</span><span class=
"pln"> all </span><span class="kwd">and</span><span class=
"pln"> </span><span class="pun">(</span><span class=
"pln">display</span><span class="pun">-</span><span class=
"pln">mode</span><span class="pun">:</span><span class=
"pln"> standalone</span><span class="pun">)</span><span class=
"pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">/* ... */</span><span class="pln">
</span><span class="pun">}</span></pre>
          </div>
          <p>
            Accessing the display-mode media feature in ECMAScript through
            <code>matchMedia()</code> of [<cite><a href="#bib-cssom-view"
            class="bibref">cssom-view</a></cite>]:
          </p>
          <div class="example">
            <div class="example-title marker">
              <span>Example 5</span>
            </div>
            <pre style="" class="highlight prettyprint prettyprinted">
            <span class="kwd">const</span><span class=
"pln"> standalone </span><span class="pun">=</span><span class=
"pln"> matchMedia</span><span class="pun">(</span><span class=
"pln"> </span><span class="str">'(display-mode: standalone)'</span><span class=
"pln"> </span><span class="pun">);</span><span class="pln">

standalone</span><span class="pun">.</span><span class=
"pln">onchange </span><span class="pun">=</span><span class=
"pln"> </span><span class="pun">(</span><span class="pln">e</span><span class=
"pun">)</span><span class="pln"> </span><span class=
"pun">=&gt;</span><span class="pln"> </span><span class=
"pun">{</span><span class="pln">
  </span><span class=
"com">/* handle changes to display mode */</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">if</span><span class="pln"> </span><span class=
"pun">(</span><span class="pln">standalone</span><span class=
"pun">.</span><span class="pln">matches</span><span class=
"pun">)</span><span class="pln"> </span><span class="pun">{</span><span class=
"pln">
  </span><span class="com">/* do standalone things */</span><span class="pln">
</span><span class="pun">}</span></pre>
          </div>
        </section>
        <section id="security-and-privacy-considerations">
          <h4>
            <span class="secno">4.1.2</span> Security and privacy
            considerations
          </h4>
          <p>
            The <code>'display-mode'</code> media feature allows an origin
            access to aspects of a user’s local computing environment and,
            together with the <code>display</code> member, allows an origin
            some measure of control over a user agent’s native UI: Through a
            CSS media query, a script can know the display mode of a web
            application. An attacker could, in such a case, exploit the fact
            that an application is being displayed in fullscreen to mimic the
            user interface of another application.
          </p>
          <p>
            Furthermore, by neglecting to define a scope member in the
            manifest, it's possible to put a web application into a
            <a data-link-type="dfn" class="internalDFN" href=
            "#dfn-display-mode">display mode</a> that persists cross-origin
            (for legacy reasons, this is the default behavior). In case where
            the navigation scope is unbounded, it is left to the user agent to
            either stop applying the manifest when a cross-origin navigation
            occurs or to show some sort of security warning to the user.
          </p>
        </section>
      </section>
    </section>
    <section id="associating-a-resource-with-a-manifest">
      <!--OddPage-->
      <h2>
        <span class="secno">5.</span> Associating a resource with a manifest
      </h2>
      <p>
        A resource is said to be <dfn id="dfn-associated-with-a-manifest"
        data-dfn-type="dfn">associated with a manifest</dfn> if the resource
        representation, an HTML document, has a <a href=
        "#linking"><code>manifest</code> link relationship</a>.
      </p>
      <section id="linking">
        <h3>
          <span class="secno">5.1</span> Linking to a manifest
        </h3>
        <p>
          The <code>manifest</code> keyword can be used with a [<cite><a href=
          "#bib-HTML" class="bibref">HTML</a></cite>] <a data-link-type="dfn"
          class="internalDFN" href="#dfn-link-element"><code>link</code>
          element</a>. This keyword creates an <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-external-resource-link">external resource
          link</a>.
        </p>
        <table border="1">
          <tbody>
            <tr>
              <th rowspan="2">
                Link type
              </th>
              <th colspan="2">
                Effect on...
              </th>
              <th rowspan="2">
                Brief description
              </th>
            </tr>
            <tr>
              <th>
                <code><a data-link-type="dfn" class="internalDFN" href=
                "#dfn-link-element">link</a></code>
              </th>
              <th>
                <code><a data-link-type="dfn" class="internalDFN" href=
                "#dfn-a-element">a</a></code> and <code><a data-link-type="dfn"
                class="internalDFN" href="#dfn-area-element">area</a></code>
              </th>
            </tr>
            <tr>
              <td>
                <code>manifest</code>
              </td>
              <td>
                <a data-link-type="dfn" class="internalDFN" href=
                "#dfn-external-resource-link">External Resource</a>
              </td>
              <td>
                not allowed
              </td>
              <td>
                Imports or links to a <a data-link-type="dfn" class=
                "internalDFN" href="#dfn-manifest">manifest</a>.
              </td>
            </tr>
          </tbody>
        </table>
        <p>
          The <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-media-type-for-a-manifest">media type for a manifest</a> serves
          as the default media type for resources associated with the
          <code><a href="#rel-manifest">manifest</a></code> <a data-link-type=
          "dfn" class="internalDFN" href="#dfn-link-type">link type</a>.
        </p>
        <div class="note">
          <div id="h-note4" role="heading" aria-level="4" class=
          "note-title marker">
            <span>Note</span>
          </div>
          <p class="">
            In cases where more than one <a data-link-type="dfn" class=
            "internalDFN" href="#dfn-link-element"><code>link</code>
            element</a> with a <code>manifest</code> link type appears in a
            <code>Document</code>, the user agent uses the first
            <a data-link-type="dfn" class="internalDFN" href=
            "#dfn-link-element"><code>link</code> element</a> in tree order and
            ignores all subsequent <a data-link-type="dfn" class="internalDFN"
            href="#dfn-link-element"><code>link</code> element</a> with a
            <code>manifest</code> link type (even if the first element was
            erroneous). See the <a data-link-type="dfn" class="internalDFN"
            href="#dfn-steps-for-obtaining-a-manifest">steps for obtaining a
            manifest</a>.
          </p>
        </div>
        <p>
          To obtain a manifest, the user agent <em title="MUST" class=
          "rfc2119">MUST</em> run the <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-steps-for-obtaining-a-manifest">steps for
          obtaining a manifest</a>. The appropriate time to obtain the manifest
          is left up to implementations. A user agent <em title="MAY" class=
          "rfc2119">MAY</em> opt to delay fetching a manifest until after the
          document and its other resources have been fully loaded (i.e., to not
          delay the availability of content and scripts required by the
          <code>document</code>).
        </p>
        <p>
          A <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-manifest">manifest</a> is obtained and applied regardless of
          the <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-media"><code>media</code></a> attribute of the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-link-element"><code>link</code> element</a> matches the
          environment or not.
        </p>
      </section>
    </section>
    <section id="manifest-life-cycle">
      <!--OddPage-->
      <h2>
        <span class="secno">6.</span> Manifest life-cycle
      </h2>
      <p>
        This section defines algorithms for <a href="#obtaining">obtaining</a>,
        <a href="#processing">processing</a>, and <a data-link-type="dfn"
        class="internalDFN" href="#dfn-applied">applying</a> a
        <a data-link-type="dfn" class="internalDFN" href=
        "#dfn-manifest">manifest</a>, and gives recommendations to implementers
        on how to react when the manifest is <a href="#updating">updated</a>.
      </p>
      <section id="obtaining">
        <h3>
          <span class="secno">6.1</span> Obtaining a manifest
        </h3>
        <p>
          The <dfn id="dfn-steps-for-obtaining-a-manifest" data-dfn-type=
          "dfn">steps for obtaining a manifest</dfn> are given by the following
          algorithm. The algorithm, if successful, returns a <a data-link-type=
          "dfn" class="internalDFN" href="#dfn-processed-manifest">processed
          manifest</a> and the <var>manifest URL</var>; otherwise, it
          terminates prematurely and returns nothing. In the case of nothing
          being returned, the user agent <em title="MUST" class=
          "rfc2119">MUST</em> ignore the manifest declaration. In running these
          steps, a user agent <em title="MUST NOT" class="rfc2119">MUST
          NOT</em> <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-delay-the-load-event">delay the load event</a>.
        </p>
        <ol>
          <li>From the <code>Document</code> of the <a data-link-type="dfn"
          class="internalDFN" href="#dfn-top-level-browsing-context">top-level
          browsing context</a>, let <var>manifest link</var> be the first
          <a data-link-type="dfn" class="internalDFN" href="#dfn-link-element">
            <code>link</code> element</a> in <a data-link-type="dfn" class=
            "internalDFN" href="#dfn-tree-order">tree order</a> whose
            <a data-link-type="dfn" class="internalDFN" href=
            "#dfn-rel-attribute"><code>rel</code> attribute</a> contains the
            token <code>manifest</code>.
          </li>
          <li>If <var>manifest link</var> is <code>null</code>, terminate this
          algorithm.
          </li>
          <li>If <var>manifest link</var>'s <code>href</code> attribute's value
          is the empty string, then abort these steps.
          </li>
          <li>Let <var>manifest URL</var> be the result of <a data-link-type=
          "dfn" class="internalDFN" href="#dfn-url-parser">parsing</a> the
          value of the <code>href</code> attribute, relative to
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-the-element-s-base-url">the element's base URL</a>. If parsing
          fails, then abort these steps.
          </li>
          <li>Let <var>request</var> be a new [<cite><a href="#bib-FETCH"
            class="bibref">FETCH</a></cite>] <a data-link-type="dfn" class=
            "internalDFN" href="#dfn-request">request</a>, whose URL is
            <var>manifest URL</var>, and whose <a data-link-type="dfn" class=
            "internalDFN" href="#dfn-context">context</a> is
            "<code>manifest</code>".
          </li>
          <li>If the <var>manifest link</var>'s <code>crossOrigin</code>
          attribute's value is '<code>use-credentials</code>', then set
          <var>request</var>'s credentials to '<code>include</code>'.
          </li>
          <li>Await the result of performing a <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-fetch">fetch</a> with <var>request</var>,
          letting <var>response</var> be the result.
          </li>
          <li>If <var>response</var> is a <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-network-error">network error</a>, terminate
          this algorithm.
          </li>
          <li>Let <var>manifest</var> be the result of running the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-steps-for-processing-a-manifest">steps for processing a
          manifest</a> with <var>response</var>'s <a href=
          "https://fetch.spec.whatwg.org/#concept-request-body">body</a> as the
          <var>text</var>, <var>manifest URL</var>, and the URL that represents
          the address of the <a data-link-type="dfn" class="internalDFN"
            href="#dfn-top-level-browsing-context">top-level browsing
            context</a>.
          </li>
          <li>Return <var>manifest</var> and <var>manifest URL</var>.
          </li>
        </ol>
        <div class="note">
          <div id="h-note5" role="heading" aria-level="4" class=
          "note-title marker">
            <span>Note</span>
          </div>
          <div class="">
            <p>
              Authors are encouraged to use the HTTP cache directives to
              explicitly cache the manifest. For example, the following
              response would cause a cached manifest to be used 30 days from
              the time the response is sent:
            </p>
            <pre style="" class="highlight prettyprint prettyprinted">
            <span class="pln">HTTP</span><span class="pun">/</span><span class=
"lit">1.1</span><span class="pln"> </span><span class=
"lit">200</span><span class="pln"> OK
</span><span class="typ">Cache</span><span class="pun">-</span><span class=
"typ">Control</span><span class="pun">:</span><span class=
"pln"> max</span><span class="pun">-</span><span class=
"pln">age</span><span class="pun">=</span><span class=
"lit">2592000</span><span class="pln">
</span><span class="typ">Content</span><span class="pun">-</span><span class=
"typ">Type</span><span class="pun">:</span><span class=
"pln"> application</span><span class="pun">/</span><span class=
"pln">manifest</span><span class="pun">+</span><span class="pln">json

</span><span class="pun">{</span><span class="pln">
  </span><span class="str">"lang"</span><span class="pun">:</span><span class=
"pln"> </span><span class="str">"en"</span><span class=
"pun">,</span><span class="pln">
  </span><span class="str">"name"</span><span class="pun">:</span><span class=
"pln"> </span><span class="str">"Super Racer 2000"</span><span class=
"pun">,</span><span class="pln">
  </span><span class="str">"start_url"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"/start.html"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"display"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"fullscreen"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"orientation"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"landscape"</span><span class="pln">
</span><span class="pun">}</span></pre>
          </div>
        </div>
        <section id="content-security-policy">
          <h4>
            <span class="secno">6.1.1</span> Content security policy
          </h4>
          <p>
            A user agent <em title="MUST" class="rfc2119">MUST</em> support
            [<cite><a href="#bib-CSP3" class="bibref">CSP3</a></cite>].
          </p>
          <div class="example">
            <p>
              The <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-manifest-src">manifest-src</a>
              and <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-default-src">default-src</a>
              directives govern the origins from which a <a data-link-type=
              "dfn" class="internalDFN" href="#dfn-user-agent">user agent</a>
              can fetch a manifest. As with other directives, by default the
              <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-manifest-src">manifest-src</a>
              directive is <code>*</code>, meaning that a user agent can,
              [<cite><a href="#bib-CORS" class="bibref">CORS</a></cite>]
              permitting, fetch the manifest cross-domain. Remote origins
              (e.g., a <abbr title="content delivery network">CDN</abbr>)
              wanting to host manifests for various web applications will need
              to include the appropriate [<cite><a href="#bib-CORS" class=
              "bibref">CORS</a></cite>] response header in their HTTP response
              (e.g., <code>Access-Control-Allow-Origin:
              https://example.com</code>).
            </p>
            <figure id=
            "fig-for-a-html-document-csp3-s-manifest-src-directive-controls-the-sources-from-which-a-html-document-can-load-a-manifest-from.-the-same-csp-policy-s-img-src-directive-controls-where-the-icon-s-images-can-be-fetched-from.x"
            class="example">
              <img src="images/manifest-src-directive.svg" alt=
              "manifest-src directive example illustrated" width="704" height=
              "342">
              <figcaption>
                Fig. <span class="figno">1</span> <span class="fig-title">For a
                [<cite><a href="#bib-HTML" class="bibref">HTML</a></cite>]
                document, [<cite><a href="#bib-CSP3" class=
                "bibref">CSP3</a></cite>]'s <a data-link-type="dfn" class=
                "internalDFN" href=
                "#dfn-manifest-src">manifest-src</a>
                directive controls the sources from which a [<cite><a href=
                "#bib-HTML" class="bibref">HTML</a></cite>] document can load a
                manifest from. The same CSP policy's <code>img-src</code>
                directive controls where the icon's images can be fetched
                from.</span>
              </figcaption>
            </figure>
          </div>
        </section>
      </section>
      <section id="processing">
        <h3>
          <span class="secno">6.2</span> Processing the manifest
        </h3>
        <p>
          When instructed to <dfn id="dfn-issue-a-developer-warning"
          data-dfn-type="dfn">issue a developer warning</dfn>, the user agent
          <em title="MAY" class="rfc2119">MAY</em> report the conformance
          violation to the developer in a user-agent-specific manner (e.g.,
          report the problem in an error console), or <em title="MAY" class=
          "rfc2119">MAY</em> ignore the error and do nothing.
        </p>
        <p>
          When instructed to <dfn id="dfn-ignore" data-dfn-type=
          "dfn">ignore</dfn>, the user agent <em title="MUST" class=
          "rfc2119">MUST</em> act as if whatever manifest, member, or value
          caused the condition is absent.
        </p>
        <p>
          The following algorithm provides an <dfn id="dfn-extension-point"
          data-dfn-type="dfn">extension point</dfn>: other specifications that
          add new members to the manifest are encouraged to hook themselves
          into this specification at this point in the algorithm.
        </p>
        <div class="note">
          <div id="h-note6" role="heading" aria-level="4" class=
          "note-title marker">
            <span>Note</span>
          </div>
          <div class="">
            <p>
              The <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-extension-point">extension point</a> is meant to help avoid
              <a href="https://annevankesteren.nl/2014/02/monkey-patch">issues
              related to monkey patching</a>.
            </p>
          </div>
        </div>
        <p>
          The <dfn id="dfn-steps-for-processing-a-manifest" data-dfn-type=
          "dfn">steps for processing a manifest</dfn> are given by the
          following algorithm. The algorithm takes a <var>text</var> string as
          an argument, which represents a <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-manifest">manifest</a>, and a
          <a data-link-type="dfn" class="internalDFN" href="#dfn-url">URL</a>
          <var>manifest URL</var>, which represents the location of the
          manifest, and a <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-url">URL</a> <var>document URL</var>. The output from inputting
          an JSON document into this algorithm is a <dfn id=
          "dfn-processed-manifest" data-dfn-type="dfn">processed manifest</dfn>
          .
        </p>
        <ol>
          <li>Let <var>parsed manifest</var> be an empty object.
          </li>
          <li>Let <var>manifest</var> be the result of <a href=
          "https://people.mozilla.org/~jorendorff/es6-draft.html#sec-json.parse">
            parsing</a> <var>text</var>. If <a href=
            "https://people.mozilla.org/~jorendorff/es6-draft.html#sec-json.parse">
            parsing</a> throws an error:
            <ol>
              <li>
                <a data-link-type="dfn" class="internalDFN" href=
                "#dfn-issue-a-developer-warning">Issue a developer warning</a>
                with any details pertaining to the JSON parsing error.
              </li>
              <li>Set <var>manifest</var> to be the result of <a href=
              "https://people.mozilla.com/~jorendorff/es6-draft.html#sec-15.12.2">
                parsing</a> the string <code>"{}"</code>.
              </li>
            </ol>
          </li>
          <li>If <a data-link-type="dfn" class="internalDFN" href="#dfn-type">
            Type</a>(<var>manifest</var>) is not "object":
            <ol>
              <li>
                <a data-link-type="dfn" class="internalDFN" href=
                "#dfn-issue-a-developer-warning">Issue a developer warning</a>
                that the manifest needs to be an object.
              </li>
              <li>Set <var>manifest</var> to be the result of <a href=
              "https://people.mozilla.com/~jorendorff/es6-draft.html#sec-15.12.2">
                parsing</a> the string <code>"{}"</code>.
              </li>
            </ol>
          </li>
          <li>
            <a data-link-type="dfn" class="internalDFN" href=
            "#dfn-extension-point">Extension point</a>: process any proprietary
            and/or other supported members at this point in the algorithm.
          </li>
          <li>Let <var>start URL</var> of <var>parsed manifest</var> be the
          result of running the <a data-link-type="dfn" class="internalDFN"
          href="#dfn-steps-for-processing-the-start_url-member">steps for
          processing the <code>start_url</code> member</a> with
          <var>manifest</var>, <var>manifest URL,</var> and <var>document
          URL</var> as arguments.
          </li>
          <li>Let <var>display mode</var> of <var>parsed manifest</var> be the
          result of running the <a data-link-type="dfn" class="internalDFN"
          href="#dfn-steps-for-processing-the-display-member">steps for
          processing the <code>display</code> member</a> with
          <var>manifest</var> as the argument.
          </li>
          <li>Let <var>orientation</var> of <var>parsed manifest</var> be the
          result of running the <a data-link-type="dfn" class="internalDFN"
          href="#dfn-steps-for-processing-the-orientation-member">steps for
          processing the <code>orientation</code> member</a> with
          <var>manifest</var> and <var>display mode</var> as arguments.
          </li>
          <li>Let <var>name</var> of <var>parsed manifest</var> be the result
          of running the <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-steps-for-processing-the-name-member">steps for processing the
          <code>name</code> member</a> with <var>manifest</var> as the
          argument.
          </li>
          <li>Let <var>language</var> of <var>parsed manifest</var> be the
          result of running the <a data-link-type="dfn" class="internalDFN"
          href="#dfn-steps-for-processing-the-lang-member">steps for processing
          the <code>lang</code> member</a> with <var>manifest</var> as the
          argument.
          </li>
          <li>Let <var>short name</var> of <var>parsed manifest</var> be the
          result of running the <a data-link-type="dfn" class="internalDFN"
          href="#dfn-steps-for-processing-the-short_name-member">steps for
          processing the <code>short_name</code> member</a> with
          <var>manifest</var> as the argument.
          </li>
          <li>Let <var>icons</var> of <var>parsed manifest</var> be the result
          of running the <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-steps-for-processing-an-array-of-images">steps for processing
          an array of images</a> with <var>manifest</var>, <var>manifest
          URL</var>, and "icons" as arguments.
          </li>
          <li>Let <var>splash screens</var> of <var>parsed manifest</var> be
          the result of running the <a data-link-type="dfn" class="internalDFN"
            href="#dfn-steps-for-processing-an-array-of-images">steps for
            processing an array of images</a> with <var>manifest</var>,
            <var>manifest URL</var>, and "splash_screen" as arguments.
          </li>
          <li>Let <var>scope</var> of <var>parsed manifest</var> be the result
          of running the <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-steps-for-processing-the-scope-member">steps for processing the
          <code>scope</code> member</a> with <var>manifest</var>, <var>manifest
          URL</var>, <var>document URL</var>, <var>start URL</var> as
          arguments.
          </li>
          <li>Let <var>related applications</var> of <var>parsed manifest</var>
          be the result of running the <a data-link-type="dfn" class=
          "internalDFN" href=
          "#dfn-steps-for-processing-the-related_applications-member">steps for
          processing the <code>related_applications</code> member</a> with
          <var>manifest</var> as argument.
          </li>
          <li>Let <var>prefer related applications</var> of <var>parsed
          manifest</var> be the result of running the <a data-link-type="dfn"
          class="internalDFN" href=
          "#dfn-steps-for-processing-the-prefer_related_applications-member">steps
          for processing the <code>prefer_related_applications</code>
          member</a> with <var>manifest</var> as argument.
          </li>
          <li>Let <var>theme color</var> of <var>parsed manifest</var> be the
          result of running the <a data-link-type="dfn" class="internalDFN"
          href="#dfn-steps-for-processing-the-theme_color-member">steps for
          processing the <code>theme_color</code> member</a> with
          <var>manifest</var> as argument.
          </li>
          <li>Let <var>background_color</var> of <var>parsed manifest</var> be
          the result of running the <a data-link-type="dfn" class="internalDFN"
            href="#dfn-steps-for-processing-the-background_color-member">steps
            for processing the <code>background_color</code> member</a> with
            <var>manifest</var> as argument.
          </li>
          <li>Return <var>parsed manifest</var>.
          </li>
        </ol>
      </section>
      <section>
        <h3 id="applying">
          <span class="secno">6.3</span> Applying the manifest
        </h3>
        <p>
          A <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-manifest">manifest</a> is <dfn id="dfn-applied" data-dfn-type=
          "dfn">applied</dfn> to a <a data-link-type="dfn" class="internalDFN"
          href="#dfn-top-level-browsing-context">top-level browsing
          context</a>, meaning that the members of the <a data-link-type="dfn"
          class="internalDFN" href="#dfn-manifest">manifest</a> are affecting
          the presentation or behavior of a browsing context.
        </p>
        <p>
          A <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-top-level-browsing-context">top-level browsing context</a> that
          has a manifest applied to it is referred to as an <dfn id=
          "dfn-application-context" data-dfn-type="dfn">application
          context</dfn>.
        </p>
        <p>
          If an <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-application-context">application context</a> is created as a
          result of the user agent being asked to <a data-link-type="dfn"
          class="internalDFN" href="#dfn-navigate-algorithm">navigate</a> to a
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-deep-link">deep link</a>, the user agent <em title="MUST"
          class="rfc2119">MUST</em> immediately <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-navigate-algorithm">navigate</a> to the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-deep-link">deep link</a> with <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-replacement-enabled">replacement
          enabled</a>. Otherwise, when the <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-application-context">application context</a>
          is created, the user agent <em title="MUST" class="rfc2119">MUST</em>
          immediately <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-navigate-algorithm">navigate</a> to the <a data-link-type="dfn"
          class="internalDFN" href="#dfn-start-url">start URL</a> with
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-replacement-enabled">replacement enabled</a>.
        </p>
        <div>
          <p>
            Please note that the <a data-link-type="dfn" class="internalDFN"
            href="#dfn-start-url">start URL</a> is not necessarily the value of
            the <a data-link-type="dfn" class="internalDFN" href=
            "#dfn-start_url-member"><code>start_url</code> member</a>: the user
            or user agent could have changed it when the application was added
            to home-screen or otherwise bookmarked.
          </p>
        </div>
        <p>
          The appropriate time to <a data-link-type="dfn" class="internalDFN"
          href="#dfn-applied">apply</a> a manifest is when the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-application-context">application context</a> is created and
          before <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-navigate-algorithm">navigation</a> to the <a data-link-type=
          "dfn" class="internalDFN" href="#dfn-start-url">start URL</a> begins.
        </p>
      </section>
      <section id="updating">
        <h3>
          <span class="secno">6.4</span> Updating the manifest
        </h3>
        <div id="issue-384" class="issue">
          <div id="h-issue3" role="heading" aria-level="4" class=
          "issue-title marker">
            <a href=
            "https://www.github.com/w3c/manifest/issues/384"><span>Issue
            384</span></a><span style="text-transform: none">: Updating is
            under/incorrectly specified</span>
          </div>
          <p>
            The spec says that the user agent may "periodically check if the
            contents of a manifest has been modified (e.g., by honoring HTTP
            cache directives associated with the manifest or by checking for
            updates after the web application has been launched)."
          </p>
          <p>
            Firstly, being able to periodically check the contents of the
            manifest requires that the manifest URL does not change. If the
            manifest URL changes, there's no way to know that any new manifest
            corresponds to the same app as the old manifest and the only way
            for the app's metadata to be updated is for the user to re-install
            the app.
          </p>
          <p>
            The removal of the same-origin restriction on manifest URLs was
            intended mainly to allow CDNs to host the manifest on a separate
            origin to the app, but the above assumes that CDNs are well behaved
            in that they never change the URL of the manifest, or as a minimum
            provide a redirect. @slightlylate assures me that CDNs these days
            are well behaved and do not change URLs of resources. Does anyone
            have any additional data on that?
          </p>
          <p>
            So assuming the manifest URL does not change, or at least provides
            redirects, the user agent can "periodically check the contents" of
            the manifest to see whether something has been updated. Then the
            spec says that "in the event that the members of the manifest have
            been updated, as determined by running the steps for processing a
            manifest and seeing if anything has changed, the user agent MAY
            update the metadata corresponding to the web application ".
          </p>
          <p>
            Now during the "steps for processing the manifest" the spec says
            that the start_url must be checked to be same origin with the
            document URL, that is the document the app was installed from. The
            same is true for the scope property. If the user agent is just
            "periodically checking the contents" of the manifest, does it need
            to also keep a record of the URL of the document the app was
            installed from, in order to make these checks? Note that this URL
            may be different for every installation as an app can be installed
            from any page of the app.
          </p>
          <p>
            So assuming that CDNs behave well, the manifest URL doesn't change,
            and we've stored the document URL, we can then periodically check
            the contents of the manifest. Does this work for authenticated
            manifest URLs too? How does the user agent get the necessary
            credentials to fetch the manifest? Is the check only done by the
            user agent when the user logs in and uses the app?
          </p>
          <p>
            It sounds like the implementation in Chrome may also be based on
            some additional assumptions regarding a registered Service Worker
            scope, is that the case? <a href="https://github.com/mounirlamouri"
            class="user-mention">@mounirlamouri</a> ?
          </p>
          <p>
            If the assumptions above are in fact assumptions made by the spec,
            do we need to write something in the spec about the fact that user
            agents do not expect the manifest URL to change, and that therefore
            CDNs are expected to keep the same URL for the manifest or provide
            a redirect?
          </p>
        </div>
        <p>
          By using the <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-manifest-url">manifest URL</a>, a user agent <em title="MAY"
          class="rfc2119">MAY</em> periodically check if the contents of a
          manifest has been modified (e.g., by honoring HTTP cache directives
          associated with the manifest or by checking for updates after the web
          application has been launched). In the event that the members of the
          manifest have been updated, as determined by running the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-steps-for-processing-a-manifest">steps for processing a
          manifest</a> and seeing if anything has changed, the user agent
          <em title="MAY" class="rfc2119">MAY</em> update the metadata
          corresponding to the web application (e.g., by replacing the name,
          icons, <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-navigation-scope">navigation scope</a>, or whatever other data
          has been changed).
        </p>
        <p>
          In addition, even if the manifest has not been modified, the user
          agents <em title="MAY" class="rfc2119">MAY</em> periodically check if
          resources referenced from a manifest (e.g., the icons) have been
          modified by honoring HTTP cache directives. If any resources have
          been modified, the user agent <em title="MAY" class=
          "rfc2119">MAY</em> replace any stale resources.
        </p>
        <p>
          To avoid one application masquerading as another, it is <em title=
          "RECOMMENDED" class="rfc2119">RECOMMENDED</em> that users be made
          aware of any such updates using implementation or platform specific
          conventions.
        </p>
      </section>
    </section>
    <section id="manifest-and-its-members">
      <!--OddPage-->
      <h2>
        <span class="secno">7.</span> Manifest and its members
      </h2>
      <p>
        A <dfn id="dfn-manifest" data-dfn-type="dfn">manifest</dfn> is a JSON
        document that contains startup parameters and application defaults for
        when a web application is launched. A manifest consists of a top-level
        <a data-link-type="dfn" class="internalDFN" href=
        "#dfn-object">object</a> that contains zero or more members. Each of
        the members are defined below, as well as how their values are
        processed.
      </p>
      <p>
        Every manifest has an associated <dfn id="dfn-manifest-url"
        data-dfn-type="dfn">manifest URL</dfn>, which the [<cite><a href=
        "#bib-URL" class="bibref">URL</a></cite>] from which the
        <a data-link-type="dfn" class="internalDFN" href=
        "#dfn-manifest">manifest</a> was fetched.
      </p>
      <section id="lang-member">
        <h3>
          <span class="secno">7.1</span> <code>lang</code> member
        </h3>
        <p>
          The <dfn data-dfn-type="dfn" id="member-lang"><code>lang</code>
          member</dfn> is a <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-language-tag">language tag</a> (string) that specifies the
          primary language for the values of the manifest's <code>name</code>
          and <code>short_name</code> members.
        </p>
        <p>
          A <dfn id="dfn-language-tag" data-dfn-type="dfn">language tag</dfn>
          is a string that matches the production of a
          <code>Language-Tag</code> defined in the [<cite><a href="#bib-BCP47"
          class="bibref">BCP47</a></cite>] specifications (see the <a href=
          "http://www.iana.org/assignments/language-subtag-registry">IANA
          Language Subtag Registry</a> for an authoritative list of possible
          values, see also the <a href=
          "http://www.iso.org/iso/country_codes/iso_3166_code_lists/country_names_and_code_elements">
          Maintenance Agency for ISO 3166 country codes</a>). That is, a
          language range is composed of one or more <dfn id="dfn-subtags"
          data-dfn-type="dfn">subtags</dfn> that are delimited by a U+002D
          HYPHEN-MINUS ("-"). For example, the '<code>en-AU</code>' language
          range represents English as spoken in Australia, and
          '<code>fr-CA</code>' represents French as spoken in Canada. Language
          tags that meet the validity criteria of [<cite><a href="#bib-RFC5646"
          class="bibref">RFC5646</a></cite>] section 2.2.9 that can be verified
          without reference to the IANA Language Subtag Registry are considered
          structurally valid.
        </p>
        <p>
          The <dfn id="dfn-steps-for-processing-the-lang-member" data-dfn-type=
          "dfn">steps for processing the <code>lang</code> member</dfn> is
          given by the following algorithm. The algorithm takes a
          <var>manifest</var> as an argument. This algorithm returns a string
          or <code>undefined</code>.
        </p>
        <ol>
          <li>Let <var>value</var> be the result of calling the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-getownproperty">[[GetOwnProperty]]</a> internal method of <var>
            manifest</var> with argument "<code>lang</code>".
          </li>
          <li>If <a data-link-type="dfn" class="internalDFN" href="#dfn-type">
            Type</a>(<var>value</var>) is not "string":
            <ol>
              <li>If <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-type">Type</a>(<var>value</var>) is not "undefined",
              optionally <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-issue-a-developer-warning">issue a developer warning</a>
              that the type is not supported.
              </li>
              <li>Return <code>undefined</code>.
              </li>
            </ol>
          </li>
          <li>Otherwise, <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-trim">Trim</a>(<var>value</var>) and let <var>tag</var> be the
          result.
          </li>
          <li>If calling <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-isstructurallyvalidlanguagetag">IsStructurallyValidLanguageTag</a>
          with <var>tag</var> as the argument returns <code>false</code>, then:
            <ol>
              <li>
                <a data-link-type="dfn" class="internalDFN" href=
                "#dfn-issue-a-developer-warning">issue a developer warning</a>
                that the <var>value</var> is invalid.
              </li>
              <li>Return <code>undefined</code>.
              </li>
            </ol>
          </li>
          <li>Otherwise, return the result of calling the <a data-link-type=
          "dfn" class="internalDFN" href=
          "#dfn-canonicalizelanguagetag">CanonicalizeLanguageTag</a> abstract
          operation, passing <var>tag</var> as the argument.
          </li>
        </ol>
      </section>
      <section id="name-member">
        <h3>
          <span class="secno">7.2</span> <code title="">name</code> member
        </h3>
        <p>
          The <dfn data-dfn-type="dfn" id="member-name"><code>name</code>
          member</dfn> is a <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-string">string</a> that represents the name of the web
          application as it is usually displayed to the user (e.g., amongst a
          list of other applications, or as a label for an icon).
        </p>
        <p>
          The <dfn id="dfn-steps-for-processing-the-name-member" data-dfn-type=
          "dfn">steps for processing the <code>name</code> member</dfn> is
          given by the following algorithm. The algorithm takes a
          <var>manifest</var> as an argument. This algorithm returns a string
          or <code>undefined</code>.
        </p>
        <ol>
          <li>Let <var>value</var> be the result of calling the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-getownproperty">[[GetOwnProperty]]</a> internal method of <var>
            manifest</var> with argument "<code>name</code>".
          </li>
          <li>If <a data-link-type="dfn" class="internalDFN" href="#dfn-type">
            Type</a>(<var>value</var>) is not "string":
            <ol>
              <li>If <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-type">Type</a>(<var>value</var>) is not "undefined",
              optionally <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-issue-a-developer-warning">issue a developer warning</a>
              that the type is not supported.
              </li>
              <li>Return <code>undefined</code>.
              </li>
            </ol>
          </li>
          <li>Otherwise, <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-trim">Trim</a>(<var>value</var>) and return the result.
          </li>
        </ol>
      </section>
      <section id="short_name-member">
        <h3>
          <span class="secno">7.3</span> <code title="">short_name</code>
          member
        </h3>
        <p>
          The <dfn data-dfn-type="dfn" id=
          "member-short_name"><code>short_name</code></dfn> member is a
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-string">string</a> that represents a short version of the name
          of the web application. It is intended to be used where there is
          insufficient space to display the full name of the web application.
        </p>
        <p>
          The <dfn id="dfn-steps-for-processing-the-short_name-member"
          data-dfn-type="dfn">steps for processing the <code>short_name</code>
          member</dfn> is given by the following algorithm. The algorithm takes
          a <var>manifest</var> as an argument. This algorithm returns a string
          or <code>undefined</code>.
        </p>
        <ol>
          <li>Let <var>value</var> be the result of calling the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-getownproperty">[[GetOwnProperty]]</a> internal method of <var>
            manifest</var> with argument "<code>short_name</code>".
          </li>
          <li>If <a data-link-type="dfn" class="internalDFN" href="#dfn-type">
            Type</a>(<var>value</var>) is not "string":
            <ol>
              <li>If <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-type">Type</a>(<var>value</var>) is not "undefined",
              optionally <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-issue-a-developer-warning">issue a developer warning</a>
              that the type is not supported.
              </li>
              <li>Return <code>undefined</code>.
              </li>
            </ol>
          </li>
          <li>Otherwise, <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-trim">Trim</a>(<var>value</var>) and return the result.
          </li>
        </ol>
      </section>
      <section id="scope-member">
        <h3>
          <span class="secno">7.4</span> <code>scope</code> member
        </h3>
        <div id="issue-380" class="issue">
          <div id="h-issue4" role="heading" aria-level="4" class=
          "issue-title marker">
            <a href=
            "https://www.github.com/w3c/manifest/issues/380"><span>Issue
            380</span></a><span style="text-transform: none">: Provide better
            examples of scope</span>
          </div>
          <p>
            People are confused by the lack of examples relating to scope:<br>
            <a href=
            "https://github.com/manifoldjs/ManifoldJS/issues/42#issuecomment-100335570"
            class="issue-link js-issue-link" data-url=
            "https://github.com/manifoldjs/ManifoldJS/issues/42" data-id=
            "73381317" data-error-text="Failed to load issue title"
            data-permission-text=
            "Issue title is private">manifoldjs/ManifoldJS#42 (comment)</a>
          </p>
        </div>
        <p>
          The <dfn data-dfn-type="dfn" id="member-scope"><code>scope</code>
          member</dfn> is a string that represents the navigation scope of this
          web application's <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-application-context">application context</a>.
        </p>
        <p>
          The <dfn id="dfn-steps-for-processing-the-scope-member"
          data-dfn-type="dfn">steps for processing the <code>scope</code>
          member</dfn> is given by the following algorithm. The algorithm takes
          a <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-manifest">manifest</a> <var>manifest</var>, a
          <a data-link-type="dfn" class="internalDFN" href="#dfn-url">URL</a>
          <var>manifest URL</var> , a <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-url">URL</a> <var>document URL</var>, and a
          URL <var>start URL</var> . This algorithm returns a
          <a data-link-type="dfn" class="internalDFN" href="#dfn-url">URL</a>
          or <code>undefined</code>.
        </p>
        <ol>
          <li>Let <var>value</var> be the result of calling the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-getownproperty">[[GetOwnProperty]]</a> internal method of the
          <var>manifest</var> with argument "<code>scope</code>".
          </li>
          <li>Let <var>type</var> be <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-type">Type</a>(<var>value</var>).
          </li>
          <li>If <var>type</var> is not "string" or <var>value</var> is the
          empty string, then:
            <ol>
              <li>If <var>type</var> is not "<code>undefined</code>",
              <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-issue-a-developer-warning">issue a developer warning</a>
              that the type is unsupported.
              </li>
              <li>Return <code>undefined</code>.
              </li>
            </ol>
          </li>
          <li>Let <var>scope URL</var> be a new <a data-link-type="dfn"
            class="internalDFN" href="#dfn-url">URL</a> using <var>value</var>
            as <var>input</var> and <var>manifest URL</var> as the
            <var>base</var> URL.
          </li>
          <li>If <var>scope URL</var> is failure:
            <ul>
              <li>
                <a data-link-type="dfn" class="internalDFN" href=
                "#dfn-issue-a-developer-warning">Issue a developer warning</a>.
              </li>
              <li>Return <code>undefined</code>.
              </li>
            </ul>
          </li>
          <li>If <var>scope URL</var> is not <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#same-origin">same
          origin</a> as <var>document URL</var>:
            <ol>
              <li>
                <a data-link-type="dfn" class="internalDFN" href=
                "#dfn-issue-a-developer-warning">Issue a developer warning</a>
                that the <code>scope</code> needs to be <a href=
                "https://www.whatwg.org/specs/web-apps/current-work/#same-origin">
                same-origin</a> as <code>Document</code> of the
                <a data-link-type="dfn" class="internalDFN" href=
                "#dfn-application-context">application context</a>.
              </li>
              <li>Return <code>undefined</code>.
              </li>
            </ol>
          </li>
          <li>If <var>start URL</var> is not <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-within-scope">within scope</a> of scope URL:
            <ol>
              <li>
                <a data-link-type="dfn" class="internalDFN" href=
                "#dfn-issue-a-developer-warning">Issue a developer warning</a>
                that the start URL is not <a data-link-type="dfn" class=
                "internalDFN" href="#dfn-within-scope">within scope</a> of the
                navigation scope.
              </li>
              <li>Return <code>undefined</code>.
              </li>
            </ol>
          </li>
          <li>Otherwise, return <var>scope URL</var>.
          </li>
        </ol>
      </section>
      <section id="splash_screens-member">
        <h3>
          <span class="secno">7.5</span> <code title="">splash_screens</code>
          member
        </h3>
        <div id="issue-372" class="issue">
          <div id="h-issue5" role="heading" aria-level="4" class=
          "issue-title marker">
            <a href=
            "https://www.github.com/w3c/manifest/issues/372"><span>Issue
            372</span></a><span style="text-transform: none">: A means to
            control how long a splash screen should remain on screen.</span>
          </div>
          <p>
            An app might want to show its splash screen for a minimum amount of
            time.
          </p>
        </div>
        <p>
          The <dfn data-dfn-type="dfn" id=
          "member-splash_screens"><code>splash_screens</code> member</dfn> is
          an <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-array">array</a> of <a data-link-type="dfn" class="internalDFN"
          href="#dfn-image-object">image objects</a> that can serve as a
          loading screen for the web application. A splash screen indicates to
          the end user that a loading process is occurring (in effect, that the
          web application is being prepared by the user agent in the
          background). As the <code>splash_screens</code> member is an array of
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-image-object">image objects</a>, developers can use unique
          image objects definitions to target minimum screen resolutions and
          pixel densities.
        </p>
        <p>
          This feature is primarily intended for user agents that take a
          perceptible amount of time to self-initialize (e.g., take longer than
          200ms to be able to render content) - as such, it is <em title=
          "OPTIONAL" class="rfc2119">OPTIONAL</em> for a user agent to display
          a splash screen while the web application is being loaded. On
          launching a web application, if displaying a splash screen, the user
          agent <em title="MUST" class="rfc2119">MUST</em> <a data-link-type=
          "dfn" class="internalDFN" href="#dfn-queue-a-post-load-task">queue a
          post-load task</a> on the <code>Document</code> of the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-start-url">start URL</a> to remove the splashscreen, or,
          alternatively can follow platform conventions for how long a splash
          screen is displayed (e.g., a minimum of 1 second).
        </p>
        <div class="note">
          <div id="h-note7" role="heading" aria-level="4" class=
          "note-title marker">
            <span>Note</span>
          </div>
          <p class="">
            The <code>splash_screens</code> member is processed using the
            <a data-link-type="dfn" class="internalDFN" href=
            "#dfn-steps-for-processing-an-array-of-images">steps for processing
            an array of images</a>.
          </p>
        </div>
      </section>
      <section id="icons-member">
        <h3>
          <span class="secno">7.6</span> <code title="">icons</code> member
        </h3>
        <p>
          The <dfn data-dfn-type="dfn" id="member-icons"><code>icons</code>
          member</dfn> is an <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-array">array</a> of <a data-link-type="dfn" class="internalDFN"
          href="#dfn-image-object">image objects</a> that can serve as iconic
          representations of the web application in various contexts. For
          example, they can be used to represent the web application amongst a
          list of other applications, or to integrate the web application with
          an <abbr title="operating system">OS</abbr>'s task switcher and/or
          system preferences.
        </p>
        <div class="note">
          <div id="h-note8" role="heading" aria-level="4" class=
          "note-title marker">
            <span>Note</span>
          </div>
          <p class="">
            The <code>icons</code> member is processed using the
            <a data-link-type="dfn" class="internalDFN" href=
            "#dfn-steps-for-processing-an-array-of-images">steps for processing
            an array of images</a>.
          </p>
        </div>
        <p>
          If there are multiple equally appropriate icons in <var>icons</var>,
          a user agent <em title="MUST" class="rfc2119">MUST</em> use the last
          one declared in order at the time that the user agent collected the
          list of <var>icons</var>. If the user agent tries to use an icon but
          that icon is determined, upon closer examination, to in fact be
          inappropriate (e.g. because its content type is unsupported), then
          the user agent <em title="MUST" class="rfc2119">MUST</em> try the
          next-most-appropriate icon as determined by examining the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-image-object">image object's</a> members.
        </p>
        <div class="example">
          <p>
            In the following example, the developer has made the following
            choices about the icons associated with the web application:
          </p>
          <ul>
            <li>The developer has included two icons at the same size, but in
            two different formats. One is explicitly marked as WebP through the
            <code>type</code> member. If the user agent doesn't support WebP,
            it falls back to the second icon of the same size (and density).
            The media type of this icon can then be either determined via a
            HTTP header, or can be sniffed by the user agent once the first few
            bytes of the icon are received.
            </li>
            <li>The developer wants to use an SVG icon for devices with at
            least 2dppx as the display density and only when the available
            dimensions are at least 72px. She has found that the SVG file looks
            too blurry at small sizes, even on high-density screens. To deal
            with this problem, she's included an SVG icon that is only used
            when the dimensions are at least 72px and the pixel density is at
            least 2dppx. Otherwise, the user agent uses the ICO file
            (hd_hi.ico), which includes a gamut of icons individually tailored
            for small display sizes.
            </li>
          </ul>
          <pre class="">{
  "icons": [
      {
        "src": "icon/lowres.webp",
        "sizes": "48x48",
        "type": "image/webp"
      },{
        "src": "icon/lowres",
        "sizes": "48x48"
      },{
        "src": "icon/hd_hi.ico",
        "sizes": "72x72 96x96 128x128 256x256"
      },{
        "src": "icon/hd_hi.svg",
        "sizes": "72x72",
        "density": 2
      }]
 }
</pre>
        </div>
      </section>
      <section id="display-member">
        <h3>
          <span class="secno">7.7</span> <code>display</code> member
        </h3>
        <p>
          The <dfn data-dfn-type="dfn" id="member-display"><code>display</code>
          member</dfn> is a <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-string">string</a>, whose value is one of <a data-link-type=
          "dfn" class="internalDFN" href="#dfn-display-modes-values">display
          modes values</a>. The item represents the developer's preferred
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-display-mode">display mode</a> for the web application. When
          the member is missing or erroneous, the user agent <em title="MUST"
          class="rfc2119">MUST</em> use the <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-fallback-display-mode">fallback display
          mode</a>.
        </p>
        <p>
          The <dfn id="dfn-steps-for-processing-the-display-member"
          data-dfn-type="dfn">steps for processing the <code>display</code>
          member</dfn> are given by the following algorithm. The algorithm
          takes a manifest <var>manifest</var> as an argument, and returns a
          string.
        </p>
        <ol>
          <li>Let <var>value</var> be the result of calling the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-getownproperty">[[GetOwnProperty]]</a> internal method of <var>
            manifest</var> passing "<code>display</code>" as the argument.
          </li>
          <li>If <a data-link-type="dfn" class="internalDFN" href="#dfn-type">
            Type</a>(<var>value</var>) is not "string" or <a data-link-type=
            "dfn" class="internalDFN" href=
            "#dfn-trim">Trim</a>(<var>value</var>) is not part of the
            <a data-link-type="dfn" class="internalDFN" href=
            "#dfn-display-modes-values">display modes values</a>:
            <ol>
              <li>If <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-type">Type</a>(<var>value</var>) is not "undefined",
              <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-issue-a-developer-warning">issue a developer warning</a>
              that the type is unsupported.
              </li>
              <li>If <var>value</var> is not part of the <a data-link-type=
              "dfn" class="internalDFN" href=
              "#dfn-display-modes-values">display modes values</a>,
              <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-issue-a-developer-warning">issue a developer warning</a>
              that the value is unsupported.
              </li>
              <li>Return the <a data-link-type="dfn" class="internalDFN"
                href="#dfn-fallback-display-mode">fallback display mode</a>'s
                value.
              </li>
            </ol>
          </li>
          <li>Otherwise, <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-trim">Trim</a>(<var>value</var>) and set <var>value</var> to be
          the result.
          </li>
          <li>If <var>value</var> is not a <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-display-mode">display mode</a> that the user
          agent supports, set <var>value</var> to <var>value</var>'s
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-fallback-display-mode">fallback display mode</a> and re-run
          this step.
          </li>
          <li>Return <var>value</var>.
          </li>
        </ol>
      </section>
      <section id="orientation-member">
        <h3>
          <span class="secno">7.8</span> <code>orientation</code> member
        </h3>
        <p>
          The <dfn data-dfn-type="dfn" id=
          "member-orientation"><code>orientation</code> member</dfn> is a
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-string">string</a> that serves as the <a data-link-type="dfn"
          class="internalDFN" href="#dfn-default-orientation">default
          orientation</a> for all <a data-link-type="dfn" class="internalDFN"
          href="#dfn-top-level-browsing-context">top-level browsing
          contexts</a> of the web application. The possible values are those of
          the <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-orientationlocktype">OrientationLockType</a>
          enum defined in [<cite><a href="#bib-SCREEN-ORIENTATION" class=
          "bibref">SCREEN-ORIENTATION</a></cite>].
        </p>
        <p>
          If the user agent honors the value of the <code>orientation</code>
          member as the <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-default-orientation">default orientation</a>, then that serves
          as the <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-default-orientation">default orientation</a> for the life of
          the web application (unless overridden by some other means at
          runtime). This means that the user agent <em title="MUST" class=
          "rfc2119">MUST</em> return the orientation to the <a data-link-type=
          "dfn" class="internalDFN" href="#dfn-default-orientation">default
          orientation</a> any time the orientation is unlocked [<cite><a href=
          "#bib-SCREEN-ORIENTATION" class=
          "bibref">SCREEN-ORIENTATION</a></cite>] or the <a data-link-type=
          "dfn" class="internalDFN" href=
          "#dfn-top-level-browsing-context">top-level browsing context</a> is
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-navigate-algorithm">navigated</a>.
        </p>
        <p>
          Although the specification relies on the [<cite><a href=
          "#bib-SCREEN-ORIENTATION" class=
          "bibref">SCREEN-ORIENTATION</a></cite>]'s <a data-link-type="dfn"
          class="internalDFN" href=
          "#dfn-orientationlocktype">OrientationLockType</a>,
          it is <em title="OPTIONAL" class="rfc2119">OPTIONAL</em> for a user
          agent to implement the [<cite><a href="#bib-SCREEN-ORIENTATION"
          class="bibref">SCREEN-ORIENTATION</a></cite>] API. Supporting the
          [<cite><a href="#bib-SCREEN-ORIENTATION" class=
          "bibref">SCREEN-ORIENTATION</a></cite>] API is, of course, <em title=
          "RECOMMENDED" class="rfc2119">RECOMMENDED</em>.
        </p>
        <p>
          Certain UI/UX concerns and/or platform conventions will mean that
          some screen orientations and display modes <dfn id=
          "dfn-cannot-be-used-together" data-dfn-type="dfn">cannot be used
          together</dfn> . Which orientations and display modes cannot be used
          together is left to the discretion of implementers. For example, for
          some user agents, it might not make sense to change the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-default-orientation">default orientation</a> of an application
          while in <code>browser</code> <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-display-mode">display mode</a>.
        </p>
        <div class="note">
          <div id="h-note9" role="heading" aria-level="4" class=
          "note-title marker">
            <span>Note</span>
          </div>
          <p class="">
            Once the web application is running, other means can change the
            orientation of a <a data-link-type="dfn" class="internalDFN" href=
            "#dfn-top-level-browsing-context">top-level browsing context</a>
            (such as via [<cite><a href="#bib-SCREEN-ORIENTATION" class=
            "bibref">SCREEN-ORIENTATION</a></cite>] API).
          </p>
        </div>
        <p>
          The <dfn id="dfn-steps-for-processing-the-orientation-member"
          data-dfn-type="dfn">steps for processing the <code>orientation</code>
          member</dfn> are given by the following algorithm. The algorithm
          takes a <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-manifest">manifest</a> <var>manifest</var> and
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-display-mode">display mode</a> <var>display mode</var> as an
          argument, and returns a string.
        </p>
        <ol>
          <li>Let <var>value</var> be the result of calling the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-getownproperty">[[GetOwnProperty]]</a> internal method of <var>
            manifest</var> with argument "<code>orientation</code>".
          </li>
          <li>If <a data-link-type="dfn" class="internalDFN" href="#dfn-type">
            Type</a>(<var>value</var>) is not "string":
            <ol>
              <li>If <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-type">Type</a>(<var>value</var>) is not "undefined",
              <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-issue-a-developer-warning">issue a developer warning</a>
              that the type is not supported.
              </li>
              <li>Return the empty string.
              </li>
            </ol>
          </li>
          <li>Otherwise, <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-trim">Trim</a>(<var>value</var>) and set <var>value</var> to be
          the result.
          </li>
          <li>If <var>value</var> is not one of the <a data-link-type="dfn"
          class="internalDFN" href=
          "#dfn-orientationlocktype">OrientationLockType</a>
          enum values, or <var>value</var> is unsupported by the user agent, or
          the <var>value</var> <a data-link-type="dfn" class="internalDFN"
            href="#dfn-cannot-be-used-together">cannot be used together</a>
            with <var>display mode:</var>
            <ol>
              <li>
                <a data-link-type="dfn" class="internalDFN" href=
                "#dfn-issue-a-developer-warning">Issue a developer warning</a>.
              </li>
              <li>Return the empty string.
              </li>
            </ol>
          </li>
          <li>Return <var>value</var>.
          </li>
        </ol>
      </section>
      <section id="start_url-member">
        <h3>
          <span class="secno">7.9</span> <code>start_url</code> member
        </h3>
        <p>
          The <dfn id="dfn-start_url-member" data-dfn-type=
          "dfn"><code>start_url</code> member</dfn> is a <a data-link-type=
          "dfn" class="internalDFN" href="#dfn-string">string</a> that
          represents the <dfn id="dfn-start-url" data-dfn-type="dfn">start
          URL</dfn> , which is <a data-link-type="dfn" class="internalDFN"
          href="#dfn-url">URL</a> that the developer would prefer the user
          agent load when the user launches the web application (e.g., when the
          user clicks on the icon of the web application from a device's
          application menu or homescreen).
        </p>
        <p>
          The <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-start_url-member"><code>start_url</code> member</a> is purely
          advisory, and a user agent <em title="MAY" class="rfc2119">MAY</em>
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-ignore">ignore</a> it or provide the end-user the choice not to
          make use of it. A user agent <em title="MAY" class="rfc2119">MAY</em>
          also allow the end-user to modify the URL when, for instance, a
          bookmark for the web application is being created or any time
          thereafter.
        </p>
        <p>
          The <dfn id="dfn-steps-for-processing-the-start_url-member"
          data-dfn-type="dfn">steps for processing the <code>start_url</code>
          member</dfn> are given by the following algorithm. The algorithm
          takes a <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-manifest">manifest</a> <var>manifest</var>, a
          <a data-link-type="dfn" class="internalDFN" href="#dfn-url">URL</a>
          <var>manifest URL</var> , and a <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-url">URL</a> <var>document URL</var>. This
          algorithm returns a <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-url">URL</a>.
        </p>
        <ol>
          <li>Let <var>value</var> be the result of calling the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-getownproperty">[[GetOwnProperty]]</a> internal method of the
          <var>manifest</var> with argument "<code>start_url</code>".
          </li>
          <li>Let <var>type</var> be <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-type">Type</a>(<var>value</var>).
          </li>
          <li>If <var>type</var> is not "string" or <var>value</var> is the
          empty string:
            <ol>
              <li>If <var>type</var> is not "<code>undefined</code>",
              <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-issue-a-developer-warning">issue a developer warning</a>
              that the type is unsupported.
              </li>
              <li>Return a new <a data-link-type="dfn" class="internalDFN"
                href="#dfn-url">URL</a> whose <var>input</var> is <var>document
                URL</var>.
              </li>
            </ol>
          </li>
          <li>Let <var>url</var> be a new <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-url">URL</a> using <var>value</var> as <var>
            input</var> and <var>manifest URL</var> as the <var>base</var> URL.
          </li>
          <li>If <var>url</var> is failure:
            <ul>
              <li>
                <a data-link-type="dfn" class="internalDFN" href=
                "#dfn-issue-a-developer-warning">Issue a developer warning</a>.
              </li>
              <li>Return a new <a data-link-type="dfn" class="internalDFN"
                href="#dfn-url">URL</a> whose <var>input</var> is <var>document
                URL</var>.
              </li>
            </ul>
          </li>
          <li>If url is not <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-same-origin-1">same origin</a> as <var>document URL</var>:
            <ol>
              <li>
                <a data-link-type="dfn" class="internalDFN" href=
                "#dfn-issue-a-developer-warning">Issue a developer warning</a>
                that the <code>start_url</code> needs to be <a data-link-type=
                "dfn" class="internalDFN" href=
                "#dfn-same-origin">same-origin</a> as <code>Document</code> of
                the <a data-link-type="dfn" class="internalDFN" href=
                "#dfn-top-level-browsing-context">top-level browsing
                context</a>.
              </li>
              <li>Return a new <a data-link-type="dfn" class="internalDFN"
                href="#dfn-url">URL</a> whose <var>input</var> is <var>document
                URL</var>.
              </li>
            </ol>
          </li>
          <li>Otherwise, return <var>url</var>.
          </li>
        </ol>
        <div class="example">
          <p>
            For example, if the <var>value</var> of <code>start_url</code> is
            <samp>../start_point.html</samp>, and the manifest's URL is
            <samp>https://example.com/resources/manifest.webmanifest</samp>,
            then the result of <a data-link-type="dfn" class="internalDFN"
            href="#dfn-url-parser">URL parsing</a> would be
            <samp>https://example.com/start_point.html</samp>.
          </p>
        </div>
      </section>
      <section id="theme_color-member">
        <h3>
          <span class="secno">7.10</span> <code title="">theme_color</code>
          member
        </h3>
        <p>
          The <dfn data-dfn-type="dfn" id=
          "member-theme_color"><code>theme_color</code> member</dfn> serves as
          the <dfn id="dfn-default-theme-color" data-dfn-type="dfn">default
          theme color</dfn> for an application context. What constitutes a
          <dfn id="dfn-theme-color" data-dfn-type="dfn">theme color</dfn> is
          defined in [<cite><a href="#bib-META-THEME-COLOR" class=
          "bibref">META-THEME-COLOR</a></cite>].
        </p>
        <p>
          If the user agent honors the value of the <code>theme_color</code>
          member as the <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-default-theme-color">default theme color</a>, then that color
          serves as the <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-theme-color">theme color</a> for all browsing contexts to which
          the manifest is <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-applied">applied</a>. However, a document may override the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-default-theme-color">default theme color</a> through the
          inclusion of a [<cite><a href="#bib-HTML" class=
          "bibref">HTML</a></cite>] <code>meta</code> element that conforms to
          [<cite><a href="#bib-META-THEME-COLOR" class=
          "bibref">META-THEME-COLOR</a></cite>]. A user agent <em title="MUST"
          class="rfc2119">MUST</em> return the theme color to the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-default-theme-color">default theme color</a> when there are no
          <code>meta</code> elements that conform to [<cite><a href=
          "#bib-META-THEME-COLOR" class="bibref">META-THEME-COLOR</a></cite>]
          in a document, or the <a data-link-type="dfn" class="internalDFN"
          href="#dfn-top-level-browsing-context">top-level browsing context</a>
          is <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-navigate-algorithm">navigated</a> to a URL that is
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-within-scope">within scope</a>.
        </p>
        <p>
          The <dfn id="dfn-steps-for-processing-the-theme_color-member"
          data-dfn-type="dfn">steps for processing the <code>theme_color</code>
          member</dfn> are given by the following algorithm. The algorithm
          takes a <var>manifest</var> as an argument. This algorithm returns a
          string or <code>undefined</code>.
        </p>
        <ol>
          <li>Let <var>value</var> be the result of calling the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-getownproperty">[[GetOwnProperty]]</a> internal method of <var>
            manifest</var> with argument "<code>theme_color</code>".
          </li>
          <li>If <a data-link-type="dfn" class="internalDFN" href="#dfn-type">
            Type</a>(<var>value</var>) is not "string":
            <ol>
              <li>If <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-type">Type</a>(<var>value</var>) is not "undefined",
              optionally <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-issue-a-developer-warning">issue a developer warning</a>
              that the type is not supported.
              </li>
              <li>Return <code>undefined</code>.
              </li>
            </ol>
          </li>
          <li>Otherwise, let <var>potential color</var> be the result of
          running [<cite><a href="#bib-CSS-SYNTAX-3" class=
          "bibref">CSS-SYNTAX-3</a></cite>]'s <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-parse-a-component-value">parse a component
          value</a> algorithm with <var>value</var> as input. If parsing
          returns a syntax error, return <code>undefined</code>.
          </li>
          <li>Let <var>color</var> be the result of attempting to parse
          <var>potential color</var> as a CSS color, as per [<cite><a href=
          "#bib-CSS-SYNTAX-3" class="bibref">CSS-SYNTAX-3</a></cite>]. If
          parsing fails:
            <ol>
              <li>
                <a data-link-type="dfn" class="internalDFN" href=
                "#dfn-issue-a-developer-warning">Issue a developer warning</a>.
              </li>
              <li>Return <code>undefined</code>.
              </li>
            </ol>
          </li>
          <li>Return <var>color</var>.
          </li>
        </ol>
      </section>
      <section id="related_applications-member">
        <h3>
          <span class="secno">7.11</span> <code title=
          "">related_applications</code> member
        </h3>
        <p>
          A <dfn id="dfn-related-application" data-dfn-type="dfn">related
          application</dfn> is an application accessible to the underlying
          application platform that has a relationship with the web application
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-associated-with-a-manifest">associated with a manifest</a>.
        </p>
        <p>
          The <dfn id="dfn-related_applications-member" data-dfn-type=
          "dfn"><code>related_applications</code> member</dfn> lists
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-related-application">related applications</a> and serves as an
          indication of such a relationship between web application and
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-related-application">related applications</a>. This
          relationship is unidirectional and unless a listed application claims
          the same relationship, the <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-user-agent">user agent</a> <em title=
          "MUST NOT" class="rfc2119">MUST NOT</em> assume a bi-directional
          endorsement.
        </p>
        <p>
          Example of usages of the <code>related_applications</code> could be a
          crawler that would use that information to gather more information
          about the web application or a browser that could suggest a listed
          application as an alternative if the user wants to install the web
          application.
        </p>
        <p>
          The <dfn id=
          "dfn-steps-for-processing-the-related_applications-member"
          data-dfn-type="dfn">steps for processing the
          <code>related_applications</code> member</dfn> are given by the
          following algorithm. The algorithm takes a manifest as an argument.
          This algorithm returns a list of application objects
          <var>applications</var>, which can be empty.
        </p>
        <ol>
          <li>Let <var>applications</var> be an empty list.
          </li>
          <li>Let <var>unprocessed applications</var> be the result of calling
          the <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-getownproperty">[[GetOwnProperty]]</a> internal method of <var>
            manifest</var> with argument "<code>related_applications</code>".
          </li>
          <li>If <var>unprocessed applications</var> is an <a data-link-type=
          "dfn" class="internalDFN" href="#dfn-array">array</a>, then:
            <ol>
              <li>For each <var>potential application</var> in the array:
                <ol>
                  <li>Let <var>platform</var> be the result of running the
                  <a data-link-type="dfn" class="internalDFN" href=
                  "#dfn-steps-for-processing-the-platform-member-of-an-application">
                    steps for processing the <code>platform</code> member of an
                    application</a> with <var>potential application</var>.
                  </li>
                  <li>If <var>platform</var> is <code>undefined</code>, move
                  onto the next item if any are left.
                  </li>
                  <li>Let <var>id</var> be the result of running the
                  <a data-link-type="dfn" class="internalDFN" href=
                  "#dfn-steps-for-processing-the-id-member-of-an-application">
                    steps for processing the <code>id</code> member of an
                    application</a> with <var>potential application</var>.
                  </li>
                  <li>Let <var>url</var> be the result of running the
                  <a data-link-type="dfn" class="internalDFN" href=
                  "#dfn-steps-for-processing-the-url-member-of-an-application">
                    steps for processing the <code>url</code> member of an
                    application</a> with <var>potential application</var>.
                  </li>
                  <li>If both <var>id</var> and <var>url</var> are
                  <code>undefined</code>, move onto the next item if any are
                  left.
                  </li>
                  <li>Otherwise, let <var>application</var> be an object with
                  properties <code>platform</code>, <code>id</code>,
                  <code>url</code> respectively set to <var>platform</var>,
                  <var>id</var> and <var>url</var>.
                  </li>
                  <li>Append <var>application</var> to <var>applications</var>.
                  </li>
                </ol>
              </li>
            </ol>
          </li>
          <li>Otherwise, if <var>unprocessed applications</var> is not
          <code>undefined</code>:
            <ol>
              <li>
                <a data-link-type="dfn" class="internalDFN" href=
                "#dfn-issue-a-developer-warning">Issue a developer warning</a>
                that the type is not supported.
              </li>
            </ol>
          </li>
          <li>Return <var>applications</var>.
          </li>
        </ol>
      </section>
      <section id="prefer_related_applications-member">
        <h3>
          <span class="secno">7.12</span> <code title=
          "">prefer_related_applications</code> member
        </h3>
        <div id="issue-365" class="issue">
          <div id="h-issue6" role="heading" aria-level="4" class=
          "issue-title marker">
            <a href=
            "https://www.github.com/w3c/manifest/issues/365"><span>Issue
            365</span></a><span style="text-transform: none">: Is
            prefer_related_applications too simplistic?</span>
          </div>
          <p>
            Isn't the current boolean design of prefer_related_applications
            maybe a bit too simplistic?
          </p>
          <p>
            I don't agree that a list of advertisements for non-web software
            applications and the stores from which they can be downloaded
            should be part of a web standard, but if it is then I'm not sure a
            boolean flag provides enough fidelity for a developer to express
            their preference for which app the user uses.
          </p>
          <p>
            What if a Google Play Store app is preferred over the web app, but
            the web app is preferred over the Apple App Store app? Or what if
            the Google Play Store app is preferred over the Amazon Appstore
            app? If there are multiple apps which are compatible with the
            device, how does the user agent choose which one to offer based on
            just a boolean flag?
          </p>
          <p>
            What happened to the idea of the developer putting the list of
            related_applications in their order of preference? If we're going
            to let developers make a choice on behalf of users, we may as well
            make it possible for them to fully express that choice.
          </p>
        </div>
        <p>
          The <dfn id="dfn-prefer_related_applications-member" data-dfn-type=
          "dfn"><code>prefer_related_applications</code> member</dfn> is a
          boolean value that is used as a hint for the user agent to say that
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-related-application">related applications</a> should be
          preferred over the web application. The user agent <em title="MUST"
          class="rfc2119">MUST</em> consider the missing value as equivalent to
          have it set to <code>false</code>. If the
          <code>prefer_related_applications</code> is set to <code>true</code>,
          and the user agent wants to suggest to install the web application,
          the user agent might want to suggest installing one of the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-related-application">related applications</a> instead.
        </p>
        <p>
          The <dfn id=
          "dfn-steps-for-processing-the-prefer_related_applications-member"
          data-dfn-type="dfn">steps for processing the
          <code>prefer_related_applications</code> member</dfn> are given by
          the following algorithm. The algorithm takes a manifest as an
          argument. This algorithm returns a boolean.
        </p>
        <ol>
          <li>Let <var>value</var> be the result of calling the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-getownproperty">[[GetOwnProperty]]</a> internal method of <var>
            manifest</var> with argument
            "<code>prefer_related_applications</code>".
          </li>
          <li>If <a data-link-type="dfn" class="internalDFN" href="#dfn-type">
            Type</a>(<var>value</var>) is not "boolean":
            <ol>
              <li>If <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-type">Type</a>(<var>value</var>) is not "undefined",
              optionally <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-issue-a-developer-warning">issue a developer warning</a>
              that the type is not supported.
              </li>
              <li>Return <code>false</code>.
              </li>
            </ol>
          </li>
          <li>Return <var>value</var>.
          </li>
        </ol>
      </section>
      <section id="background_color-member">
        <h3>
          <span class="secno">7.13</span> <code title=
          "">background_color</code> member
        </h3>
        <p>
          The <dfn data-dfn-type="dfn" id=
          "member-background_color"><code>background_color</code> member</dfn>
          describes the expected background color of the web application. It
          repeats what is already available in the application stylesheet but
          can be used by the <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-user-agent">user agent</a> to draw the background color of a
          web application for which the manifest is known before the files are
          actually available, whether they are fetched from the network or
          retrieved from disk.
        </p>
        <p>
          The <code>background_color</code> member is only meant to improve the
          user experience while a web application is loading and <em title=
          "MUST NOT" class="rfc2119">MUST NOT</em> be used by the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-user-agent">user agent</a> as the background color when the web
          application's stylesheet is available.
        </p>
        <p>
          The <dfn id="dfn-steps-for-processing-the-background_color-member"
          data-dfn-type="dfn">steps for processing the
          <code>background_color</code> member</dfn> are given by the following
          algorithm. The algorithm takes a <var>manifest</var> as an argument.
          This algorithm returns a string or <code>undefined</code>.
        </p>
        <ol>
          <li>Let <var>value</var> be the result of calling the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-getownproperty">[[GetOwnProperty]]</a> internal method of <var>
            manifest</var> with argument "<code>background_color</code>".
          </li>
          <li>If <a data-link-type="dfn" class="internalDFN" href="#dfn-type">
            Type</a>(<var>value</var>) is not "string":
            <ol>
              <li>If <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-type">Type</a>(<var>value</var>) is not "undefined",
              optionally <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-issue-a-developer-warning">issue a developer warning</a>
              that the type is not supported.
              </li>
              <li>Return <code>undefined</code>.
              </li>
            </ol>
          </li>
          <li>Otherwise, let <var>potential color</var> be the result of
          running [<cite><a href="#bib-CSS-SYNTAX-3" class=
          "bibref">CSS-SYNTAX-3</a></cite>]'s <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-parse-a-component-value">parse a component
          value</a> algorithm with <var>value</var> as input. If parsing
          returns a syntax error, return <code>undefined</code>.
          </li>
          <li>Let <var>color</var> be the result of attempting to parse
          <var>potential color</var> as a CSS color, as per [<cite><a href=
          "#bib-CSS-SYNTAX-3" class="bibref">CSS-SYNTAX-3</a></cite>]. If
          parsing fails:
            <ol>
              <li>
                <a data-link-type="dfn" class="internalDFN" href=
                "#dfn-issue-a-developer-warning">Issue a developer warning</a>.
              </li>
              <li>Return <code>undefined</code>.
              </li>
            </ol>
          </li>
          <li>Return <var>color</var>.
          </li>
        </ol>
      </section>
    </section>
    <section id="image-object-and-its-members">
      <!--OddPage-->
      <h2>
        <span class="secno">8.</span> Image object and its members
      </h2>
      <div id="issue-361" class="issue">
        <div id="h-issue7" role="heading" aria-level="3" class=
        "issue-title marker">
          <a href="https://www.github.com/w3c/manifest/issues/361"><span>Issue
          361</span></a><span style="text-transform: none">: Ability to define
          platform-specific icon/splash style</span>
        </div>
        <p>
          Different platforms have different guidelines regarding their icon
          style, and an app may need to follow them to look "native".
        </p>
        <p>
          Wrong style, even if slightly wrong, can create "uncanny valley",
          e.g. multiple OSes use square icons with rounded corners, but with a
          different radius. Icon with a wrong corner radius looks like an
          amateurish knock-off.
        </p>
        <p>
          The spec currently only matches icons on size and density, but not
          style/theme, so sites would need to resort to user-agent sniffing if
          they wanted to serve system-specific icons.
        </p>
        <p>
          A theoretical solution available in HTML, with help of <a href=
          "https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Media_queries">
          Moz's nonstandard media queries</a>, is:
        </p>
        <pre><code>&lt;link rel=icon href="generic.png"&gt;
&lt;link rel=icon media="all and -moz-windows-theme:luna-blue" href="xp.png"&gt;
&lt;link rel=icon media="all and -moz-windows-theme:aero" href="vista.png"&gt;
</code></pre>
      </div>
      <p>
        Each <dfn id="dfn-image-object" data-dfn-type="dfn">image object</dfn>
        represents an image that is used as part of a web application, suitable
        to use in various contexts depending on the semantics of the member
        that is using the object (e.g., an icon that is part of an application
        menu, a splashscreen, etc.). For an image object, this specification
        provides developers with a means of specifying the dimensions, optimal
        pixel density, and media type of an image (i.e., a "responsive image"
        solution [<cite><a href="#bib-respimg-usecases" class=
        "bibref">respimg-usecases</a></cite>]). A user agent can use these
        values to select an image that is best suited to display on the
        end-user's device or most closely matches the end-user's preferences.
      </p>
      <section id="content-security-policy-of-image-objects">
        <h3>
          <span class="secno">8.1</span> Content security policy of image
          objects
        </h3>
        <p>
          The security policy that governs whether a <a data-link-type="dfn"
          class="internalDFN" href="#dfn-user-agent">user agent</a> can fetch
          an icon image is governed by the <code>img-src</code> directive
          [<cite><a href="#bib-CSP3" class="bibref">CSP3</a></cite>] associated
          with the manifest's owner <code>Document</code>.
        </p>
        <div class="example">
          <p>
            For example, given the following <code>img-src</code> directive in
            the <code>Content-Security-Policy</code> HTTP header of the
            manifest's owner <code>Document</code>:
          </p>
          <pre style="" class="highlight prettyprint prettyprinted"><span class=
          "pln">HTTP</span><span class="pun">/</span><span class=
          "lit">1.1</span><span class="pln"> </span><span class=
          "lit">200</span><span class="pln"> OK
</span><span class="typ">Content</span><span class="pun">-</span><span class=
"typ">Type</span><span class="pun">:</span><span class=
"pln"> text</span><span class="pun">/</span><span class="pln">html
</span><span class="typ">Content</span><span class="pun">-</span><span class=
"typ">Security</span><span class="pun">-</span><span class=
"typ">Policy</span><span class="pun">:</span><span class=
"pln"> img</span><span class="pun">-</span><span class=
"pln">src icons</span><span class="pun">.</span><span class=
"pln">example</span><span class="pun">.</span><span class="pln">com

</span><span class="pun">&lt;!</span><span class=
"pln">doctype</span><span class="pun">&gt;</span><span class="pln">
</span><span class="str">&lt;html&gt;</span><span class="pln">
</span><span class="pun">&lt;</span><span class=
"pln">link rel</span><span class="pun">=</span><span class=
"str">"manifest"</span><span class="pln"> href</span><span class=
"pun">=</span><span class="str">"manifest.webmanifest"</span><span class=
"pun">&gt;</span><span class="pln">

</span></pre>
          <p>
            And given the following <code>manifest.webmanifest</code>:
          </p>
          <pre style="" class="highlight prettyprint prettyprinted"><span class=
          "pun">{</span><span class="pln">
    </span><span class="str">"name"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"custom manifest"</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"start_url"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"http://boo"</span><span class="pun">,</span><span class="pln">
    </span><span class="str">"icons"</span><span class=
"pun">:</span><span class="pln"> </span><span class="pun">[{</span><span class=
"pln">
        </span><span class="str">"src"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"//icons.example.com/lowres"</span><span class="pln">
      </span><span class="pun">},</span><span class="pln">
      </span><span class="pun">{</span><span class="pln">
        </span><span class="str">"src"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"//other.com/hi-res"</span><span class="pln">
      </span><span class="pun">}]</span><span class="pln">
</span><span class="pun">}</span></pre>
          <p>
            The fetching of icon resources from
            <code>icons.example.com/lowres</code> would succeed, while fetching
            from <code>other.com/hi-res</code> would fail.
          </p>
        </div>
      </section>
      <section id="density-member">
        <h3>
          <span class="secno">8.2</span> <code>density</code> member
        </h3>
        <p>
          The <dfn id="dfn-density-member" data-dfn-type=
          "dfn"><code>density</code> member</dfn> of an <a data-link-type="dfn"
          class="internalDFN" href="#dfn-image-object">image object</a> is the
          device pixel density for which this image was designed. The device
          pixel density is expressed as the number of dots per 'px' unit
          (equivalent to a dppx as defined in [<cite><a href="#bib-css3-values"
          class="bibref">css3-values</a></cite>]). The value is a positive
          number greater than 0. If the developer omits the value, the user
          agent assumes the value <code>1.0</code>.
        </p>
        <p>
          The <dfn id="dfn-steps-for-processing-a-density-member-of-an-image"
          data-dfn-type="dfn">steps for processing a <code>density</code>
          member of an image</dfn> are given by the following algorithm. The
          algorithm takes an <var>image</var> <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-image-object">image object</a> as an
          argument and returns a positive number.
        </p>
        <ol>
          <li>If [[HasOwnProperty]] internal method of <var>image</var> passing
          <code>density</code> as the argument returns <code>false</code>:
            <ol>
              <li>Return 1.0.
              </li>
            </ol>
          </li>
          <li>Let <var>value</var> be the result of calling the
          [[GetOwnProperty]] internal method of <var>image</var> passing "
          <code>density</code>" as the argument.
          </li>
          <li>Let <var>result</var> be the result of <a data-link-type="dfn"
          class="internalDFN" href="#dfn-parsefloat-string">parseFloat</a>(
          <var>value</var>);
          </li>
          <li>If <var>result</var> is <code>NaN</code>, +∞, or less than or
          equal to +0, then:
            <ol>
              <li>
                <a data-link-type="dfn" class="internalDFN" href=
                "#dfn-issue-a-developer-warning">Issue a developer warning</a>.
              </li>
              <li>Return 1.0.
              </li>
            </ol>
          </li>
          <li>Return <var>result</var>.
          </li>
        </ol>
      </section>
      <section id="sizes-member">
        <h3>
          <span class="secno">8.3</span> <code>sizes</code> member
        </h3>
        <p>
          The <dfn id="dfn-sizes-member" data-dfn-type="dfn"><code>sizes</code>
          member</dfn> of an image object is a <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-string">string</a> consisting of an
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-unordered-set-of-unique-space-separated-tokens">unordered set
          of unique space-separated tokens</a> which are <a data-link-type=
          "dfn" class="internalDFN" href="#dfn-ascii-case-insensitive">ASCII
          case-insensitive</a> that represents the dimensions of an image. Each
          keyword is either an <a data-link-type="dfn" class="internalDFN"
          href="#dfn-ascii-case-insensitive">ASCII case-insensitive</a> match
          for the string "<a data-link-type="dfn" class="internalDFN" href=
          "#dfn-any">any</a>", or a value that consists of two
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-valid-non-negative-integer">valid non-negative integers</a>
          that do not have a leading U+0030 DIGIT ZERO (0) character and that
          are separated by a single U+0078 LATIN SMALL LETTER X or U+0058 LATIN
          CAPITAL LETTER X character. The keywords represent icon sizes in raw
          pixels (as opposed to CSS pixels). When multiple <a data-link-type=
          "dfn" class="internalDFN" href="#dfn-image-object">image objects</a>
          are available, a user agent <em title="MAY" class="rfc2119">MAY</em>
          use the value to decide which icon is most suitable for a display
          context (and ignore any that are inappropriate).
        </p>
        <p>
          The <dfn id="dfn-steps-for-processing-a-sizes-member-of-an-image"
          data-dfn-type="dfn">steps for processing a <code>sizes</code> member
          of an image</dfn> are given by the following algorithm. The algorithm
          takes an <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-image-object">image object</a> <var>image</var>. This algorithm
          will return a set.
        </p>
        <ol>
          <li>Let <var>sizes</var> be an empty set.
          </li>
          <li>Let <var>value</var> be the result of calling the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-getownproperty">[[GetOwnProperty]]</a> internal method of <var>
            image</var> passing " <code>sizes</code>" as the argument.
          </li>
          <li>Let <var>type</var> be <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-type">Type</a>(<var>value</var>).
          </li>
          <li>If <var>type</var> is not "string", then:
            <ol>
              <li>If <var>type</var> is not "<code>undefined</code>",
              <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-issue-a-developer-warning">issue a developer warning</a>
              that the type is unsupported.
              </li>
              <li>Return <code>undefined</code>.
              </li>
            </ol>
          </li>
          <li>Otherwise, parse <var>value</var> as if it was a
            [<cite><a href="#bib-HTML" class="bibref">HTML</a></cite>]
            <code><a data-link-type="dfn" class="internalDFN" href=
            "#dfn-sizes">sizes</a></code> attribute and let <var>keywords</var>
            be the result.
          </li>
          <li>For each <var>keyword</var> in <var>keywords</var>:
            <ol>
              <li>Convert <var>keyword</var> <a data-link-type="dfn" class=
              "internalDFN" href="#dfn-to-ascii-lowercase">to ASCII
              lowercase</a> and add the resulting string to <var>sizes</var>.
              </li>
            </ol>
          </li>
          <li>Return <var>sizes</var>.
          </li>
        </ol>
      </section>
      <section id="src-member">
        <h3>
          <span class="secno">8.4</span> <code>src</code> member
        </h3>
        <p>
          The <dfn id="dfn-src-member" data-dfn-type="dfn"><code>src</code>
          member</dfn> of an <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-image-object">image object</a> is a <a data-link-type="dfn"
          class="internalDFN" href="#dfn-url">URL</a> from which a user agent
          can fetch the image's data.
        </p>
        <p>
          The <dfn id="dfn-steps-for-processing-the-src-member-of-an-image"
          data-dfn-type="dfn">steps for processing the <code>src</code> member
          of an image</dfn> are given by the following algorithm. The algorithm
          takes a <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-image-object">image object</a> <var>icon</var>, and a
          <a data-link-type="dfn" class="internalDFN" href="#dfn-url">URL</a>
          <var>manifest URL</var> , which is the <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-url">URL</a> from which the
          <var>manifest</var> was fetched. This algorithm will return a
          <a data-link-type="dfn" class="internalDFN" href="#dfn-url">URL</a>
          or <code>undefined</code>.
        </p>
        <ol>
          <li>Let <var>value</var> be the result of calling the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-getownproperty">[[GetOwnProperty]]</a> internal method of <var>
            image</var> passing " <code>src</code>" as the argument.
          </li>
          <li>Let <var>type</var> be <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-type">Type</a>(<var>value</var>).
          </li>
          <li>If <var>type</var> is not "string", then:
            <ol>
              <li>If <var>type</var> is not "<code>undefined</code>", issue a
              developer warning that the type is unsupported.
              </li>
              <li>Return <code>undefined</code>.
              </li>
            </ol>
          </li>
          <li>If <a data-link-type="dfn" class="internalDFN" href="#dfn-trim">
            Trim</a>(value) is the empty string, then return
            <code>undefined</code>.
          </li>
          <li>Otherwise, <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-url-parser">parse</a> <var>value</var> using <var>manifest
          URL</var> as the base URL and return the result.
          </li>
        </ol>
      </section>
      <section id="type-member">
        <h3>
          <span class="secno">8.5</span> <code>type</code> member
        </h3>
        <p>
          The <dfn id="dfn-type-member" data-dfn-type="dfn"><code>type</code>
          member</dfn> of an <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-image-object">image object</a> is a hint as to the media type
          of the image. The purpose of this member is to allow a user agent to
          ignore images of media types it does not support.
        </p>
        <p>
          There is no default MIME type for image objects. However, for the
          purposes of <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-determining-the-type-of-the-resource">determining the type of
          the resource</a>, user agents must expect the resource to be an
          image.
        </p>
        <p>
          The <dfn id="dfn-steps-for-processing-the-type-member-of-an-image"
          data-dfn-type="dfn">steps for processing the <code>type</code> member
          of an image</dfn> are given by the following algorithm. The algorithm
          takes an <var>image</var> object as an argument, and returns either a
          string or <code>undefined</code>.
        </p>
        <ol>
          <li>Let <var>value</var> be the result of calling the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-getownproperty">[[GetOwnProperty]]</a> internal method of <var>
            potential image</var> passing "<code>type</code>" as the argument.
          </li>
          <li>Let <var>type</var> be <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-type">Type</a>(<var>value</var>).
          </li>
          <li>If <var>type</var> is not "string", then:
            <ol>
              <li>If <var>type</var> is not "<code>undefined</code>", issue a
              developer warning that the type is unsupported.
              </li>
              <li>Return <code>undefined</code>.
              </li>
            </ol>
          </li>
          <li>Trim(<var>value</var>) and set <var>value</var> to be resulting
          string.
          </li>
          <li>If <var>value</var> is not a <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-valid-mime-type">valid MIME type</a> or the
          value of <var>type</var> is not a supported media format, issue a
          developer warning and return <code>undefined</code>.
          </li>
          <li>Return <var>value</var>.
          </li>
        </ol>
      </section>
      <section id="processing-an-array-of-images">
        <h3>
          <span class="secno">8.6</span> Processing an array of images
        </h3>
        <p>
          The <dfn id="dfn-steps-for-processing-an-array-of-images"
          data-dfn-type="dfn">steps for processing an array of images</dfn> are
          given by the following algorithm. The algorithm takes a manifest, a
          <a data-link-type="dfn" class="internalDFN" href="#dfn-url">URL</a>
          <var>manifest URL</var>, which is the URL from which the
          <var>manifest</var> was fetched, and a string that represents the
          <var>member name</var> of the member which contains the array of
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-image-object">image objects</a>. This algorithm returns a list
          of <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-image-object">image objects</a>, which can be empty.
        </p>
        <ol>
          <li>Let <var>images</var> be an empty list.
          </li>
          <li>Let <var>unprocessed images</var> be the result of calling the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-getownproperty">[[GetOwnProperty]]</a> internal method of <var>
            manifest</var> with <var>member name</var> as the argument.
          </li>
          <li>If <var>unprocessed images</var> is an <a data-link-type="dfn"
          class="internalDFN" href="#dfn-array">array</a>, then:
            <ol>
              <li>From unprocessed images, filter out any <var>item</var> where
              <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-hasownproperty">HasOwnProperty</a>(item,"src") returns
              <code>false</code>.
              </li>
              <li>For each <var>potential image</var> in the array:
                <ol>
                  <li>Let <var>src</var> be the result of running the
                  <a data-link-type="dfn" class="internalDFN" href=
                  "#dfn-steps-for-processing-the-src-member-of-an-image">steps
                  for processing the <code>src</code> member of an image</a>
                  with <var>potential image</var> and <var>manifest URL</var>.
                  </li>
                  <li>If <var>src</var> is <code>undefined</code>, move onto
                  the next item in <var>images</var> (if any are left).
                  </li>
                  <li>Otherwise, let <var>image</var> be an object with
                  properties <code>src</code>, <code>type</code>,
                  <code>sizes</code>, and <code>density</code>. All properties
                  initially set to <code>undefined</code>.
                  </li>
                  <li>Set <var>image</var>'s <code>src</code> property to be
                  <var>src</var>.
                  </li>
                  <li>Let <var>type</var> be the result of running the
                  <a data-link-type="dfn" class="internalDFN" href=
                  "#dfn-steps-for-processing-the-type-member-of-an-image">steps
                  for processing the <code>type</code> member of an image</a>
                  passing <var>potential image</var>.
                  </li>
                  <li>If <var>type</var> is not <code>undefined</code>, set
                  <var>image</var>'s <code>type</code> property to be
                  <var>type</var>.
                  </li>
                  <li>Let <var>sizes</var> be the list that result from running
                  the <a data-link-type="dfn" class="internalDFN" href=
                  "#dfn-steps-for-processing-a-sizes-member-of-an-image">steps
                  for processing a <code>sizes</code> member of an image</a>
                  passing <var>potential image</var>.
                  </li>
                  <li>If <var>sizes</var> is not <code>undefined</code>, set
                  <var>image</var>'s <code>sizes</code> property to be
                  <var>sizes</var>.
                  </li>
                  <li>Let <var>density</var> be the result from running the
                  <a data-link-type="dfn" class="internalDFN" href=
                  "#dfn-steps-for-processing-a-density-member-of-an-image">steps
                  for processing a <code>density</code> member of an image</a>
                  are given by the passing <var>potential image</var> .
                  </li>
                  <li>If <var>density</var> is not <code>undefined</code>, set
                  <var>image</var>'s <code>density</code> property to be <var>
                    value</var>.
                  </li>
                  <li>Append <var>image</var> to <var>images</var>.
                  </li>
                </ol>
              </li>
            </ol>
          </li>
          <li>Otherwise, if <var>unprocessed images</var> is not
          <code>undefined</code>:
            <ol>
              <li>
                <a data-link-type="dfn" class="internalDFN" href=
                "#dfn-issue-a-developer-warning">Issue a developer warning</a>
                that the type is not supported.
              </li>
            </ol>
          </li>
          <li>Return <var>images</var>.
          </li>
        </ol>
      </section>
    </section>
    <section id="application-object-and-its-members">
      <!--OddPage-->
      <h2>
        <span class="secno">9.</span> Application object and its members
      </h2>
      <p>
        Each <dfn id="dfn-application-object" data-dfn-type="dfn">application
        object</dfn> represents an application related to the web application.
        An application object has three properties: a <code>platform</code>
        which represents the platform it is associated to, a <code>url</code>
        which represents the URL where the application can be found and an
        <code>id</code> which can be used as an information additional to the
        URL or instead of the URL, depending on the platform. A valid
        <a data-link-type="dfn" class="internalDFN" href=
        "#dfn-application-object">application object</a> <em title="MUST"
        class="rfc2119">MUST</em> have <code>platform</code> and either an
        <code>url</code> or an <code>id</code> (or both).
      </p>
      <div class="example">
        <p>
          In the following example, the web application is listing two
          different related applications, one on Google Play Store and the
          other one on the iTunes Store:
        </p>
        <pre class="">{
  "related_applications": [
      {
        "platform": "play",
        "url": "https://play.google.com/store/apps/details?id=com.example.app1",
        "id": "com.example.app1"
      }, {
        "platform": "itunes",
        "url": "https://itunes.apple.com/app/example-app1/id123456789",
      }]
 }
</pre>
      </div>
      <div class="issue">
        <div id="h-issue8" role="heading" aria-level="3" class=
        "issue-title marker">
          <span>Issue</span>
        </div>
        <p class="">
          Where should the <code>platform</code> expected value be listed?
        </p>
      </div>
      <section id="platform-member">
        <h3>
          <span class="secno">9.1</span> <code>platform</code> member
        </h3>
        <p>
          The <dfn id="dfn-platform" data-dfn-type="dfn">platform</dfn> member
          of an application object represents the platform on which the
          application can be found.
        </p>
        <p>
          The <dfn id=
          "dfn-steps-for-processing-the-platform-member-of-an-application"
          data-dfn-type="dfn">steps for processing the <code>platform</code>
          member of an application</dfn> are given by the following algorithm.
          The algorithm takes an <a data-link-type="dfn" class="internalDFN"
          href="#dfn-application-object">application object</a>
          <var>application</var>. This algorithm will return a string or
          <code>undefined</code>.
        </p>
        <ol>
          <li>Let <var>value</var> be the result of calling the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-getownproperty">[[GetOwnProperty]]</a> internal method of <var>
            application</var> passing "<code>platform</code>" as the argument.
          </li>
          <li>If <a data-link-type="dfn" class="internalDFN" href="#dfn-type">
            Type</a>(<var>value</var>) is not "string":
            <ol>
              <li>If <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-type">Type</a>(<var>value</var>) is not "undefined",
              optionally <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-issue-a-developer-warning">issue a developer warning</a>
              that the type is not supported.
              </li>
              <li>Return <code>undefined</code>.
              </li>
            </ol>
          </li>
          <li>Otherwise, <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-trim">Trim</a>(<var>value</var>) and return the result.
          </li>
        </ol>
      </section>
      <section id="url-member">
        <h3>
          <span class="secno">9.2</span> <code>url</code> member
        </h3>
        <p>
          The <dfn id="dfn-url-member" data-dfn-type="dfn">url member</dfn> of
          an application object represents the <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-url">URL</a> at which the application can be
          found.
        </p>
        <p>
          The <dfn id=
          "dfn-steps-for-processing-the-url-member-of-an-application"
          data-dfn-type="dfn">steps for processing the <code>url</code> member
          of an application</dfn> are given by the following algorithm. The
          algorithm takes an <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-application-object">application object</a>
          <var>application</var>. This algorithm will return an
          <a data-link-type="dfn" class="internalDFN" href="#dfn-url">URL</a>
          or <code>undefined</code>.
        </p>
        <ol>
          <li>Let <var>value</var> be the result of calling the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-getownproperty">[[GetOwnProperty]]</a> internal method of <var>
            application</var> passing "<code>url</code>" as the argument.
          </li>
          <li>If <a data-link-type="dfn" class="internalDFN" href="#dfn-type">
            Type</a>(<var>value</var>) is not "string":
            <ol>
              <li>If <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-type">Type</a>(<var>value</var>) is not "undefined",
              optionally <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-issue-a-developer-warning">issue a developer warning</a>
              that the type is not supported.
              </li>
              <li>Return <code>undefined</code>.
              </li>
            </ol>
          </li>
          <li>Trim(<var>value</var>) and set <var>value</var> to be resulting
          string.
          </li>
          <li>Otherwise, <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-url-parser">parse</a> <var>value</var> and if the result is not
          failure, return the result, otherwise return <code>undefined</code>.
          </li>
        </ol>
      </section>
      <section id="id-member">
        <h3>
          <span class="secno">9.3</span> <code>id</code> member
        </h3>
        <p>
          The <dfn id="dfn-id" data-dfn-type="dfn">id</dfn> member of an
          application object represents the id which is used to represent the
          application on the platform.
        </p>
        <p>
          The <dfn id=
          "dfn-steps-for-processing-the-id-member-of-an-application"
          data-dfn-type="dfn">steps for processing the <code>id</code> member
          of an application</dfn> are given by the following algorithm. The
          algorithm takes an <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-application-object">application object</a>
          <var>application</var>. This algorithm will return a string or
          <code>undefined</code>.
        </p>
        <ol>
          <li>Let <var>value</var> be the result of calling the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-getownproperty">[[GetOwnProperty]]</a> internal method of <var>
            application</var> passing "<code>id</code>" as the argument.
          </li>
          <li>If <a data-link-type="dfn" class="internalDFN" href="#dfn-type">
            Type</a>(<var>value</var>) is not "string":
            <ol>
              <li>If <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-type">Type</a>(<var>value</var>) is not "undefined",
              optionally <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-issue-a-developer-warning">issue a developer warning</a>
              that the type is not supported.
              </li>
              <li>Return <code>undefined</code>.
              </li>
            </ol>
          </li>
          <li>Otherwise, <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-trim">Trim</a>(<var>value</var>) and return the result.
          </li>
        </ol>
      </section>
    </section>
    <section id="common-conventions-and-dependencies">
      <!--OddPage-->
      <h2>
        <span class="secno">10.</span> Common conventions and dependencies
      </h2>
      <p>
        The <a href=
        "https://people.mozilla.org/~jorendorff/es6-draft.html#sec-ordinary-object-internal-methods-and-internal-slots-getownproperty-p">
        <dfn id="dfn-getownproperty" data-dfn-type=
        "dfn">[[GetOwnProperty]]</dfn></a> operation and the abstract operation
        <dfn id="dfn-hasownproperty" data-dfn-type="dfn"><a href=
        "https://people.mozilla.org/~jorendorff/es6-draft.html#sec-hasownproperty">
        hasOwnProperty</a></dfn> , <dfn id="dfn-parsefloat-string"
        data-dfn-type="dfn"><a href=
        "https://people.mozilla.org/~jorendorff/es6-draft.html#sec-parsefloat-string">
        parseFloat(string)</a></dfn> function, and the <a class="external"
        href="https://people.mozilla.org/~jorendorff/es6-draft.html#sec-ecmascript-data-types-and-values">
        <dfn id="dfn-type" data-dfn-type="dfn">Type</dfn>(<var>x</var>)</a>
        notation are defined in [<cite><a href="#bib-ECMASCRIPT" class=
        "bibref">ECMASCRIPT</a></cite>].
      </p>
      <p>
        When instructed to <dfn id="dfn-trim" data-dfn-type=
        "dfn">Trim</dfn>(<var>x</var>), a user agent <em title="MUST" class=
        "rfc2119">MUST</em> behave as if [<cite><a href="#bib-ECMASCRIPT"
        class="bibref">ECMASCRIPT</a></cite>]'s <a href=
        "https://people.mozilla.org/~jorendorff/es6-draft.html#sec-string.prototype.trim">
        String.prototype.trim()</a> function had been called on the string
        <var>x</var>.
      </p>
      <p>
        As the manifest uses the JSON format, this specification relies on the
        types defined in [<cite><a href="#bib-ECMA-404" class=
        "bibref">ECMA-404</a></cite>] specification: namely <dfn id=
        "dfn-object" data-dfn-type="dfn">object</dfn>, <dfn id="dfn-array"
        data-dfn-type="dfn">array</dfn>, <dfn id="dfn-number" data-dfn-type=
        "dfn">number</dfn>, <dfn id="dfn-string" data-dfn-type=
        "dfn">string</dfn>, <code>true</code>, <code>false</code>, and
        <code>null</code>. Strict type checking is not enforced by this
        specification. Instead, each member's definition specifies the steps
        required to process a particular member and what to do when a type does
        not match what is expected.
      </p>
      <p>
        The <dfn id="dfn-url" data-dfn-type="dfn"><a href=
        "https://url.spec.whatwg.org/#concept-url">URL</a></dfn> concept and
        <dfn id="dfn-url-parser" data-dfn-type="dfn"><a href=
        "https://url.spec.whatwg.org/#concept-url-parser">URL parser</a></dfn>
        are defined in [<cite><a href="#bib-WHATWG-URL" class=
        "bibref">WHATWG-URL</a></cite>].
      </p>
      <p>
        The <a href=
        "https://w3c.github.io/screen-orientation/#dfn-default-orientation"><dfn id="dfn-default-orientation"
        data-dfn-type="dfn">default orientation</dfn></a> concept and the
        <a href=
        "https://w3c.github.io/screen-orientation/#idl-def-OrientationLockType">
        <dfn id="dfn-orientationlocktype" data-dfn-type=
        "dfn"><code>OrientationLockType</code></dfn></a> enum, are defined in
        [<cite><a href="#bib-SCREEN-ORIENTATION" class=
        "bibref">SCREEN-ORIENTATION</a></cite>].
      </p>
      <p>
        The algorithm to <a href=
        "http://dev.w3.org/csswg/css-syntax/#parse-component-value"><dfn id=
        "dfn-parse-a-component-value" data-dfn-type="dfn">parse a component
        value</dfn></a> is defined in [<cite><a href="#bib-CSS-SYNTAX-3" class=
        "bibref">CSS-SYNTAX-3</a></cite>].
      </p>
      <p>
        The <a href=
        "https://w3c.github.io/webappsec/specs/content-security-policy/#manifest_src">
        <dfn id="dfn-manifest-src" data-dfn-type=
        "dfn"><code>manifest-src</code></dfn></a>, <a href=
        "https://w3c.github.io/webappsec/specs/content-security-policy/#img_src">
        <dfn id="dfn-img-src" data-dfn-type=
        "dfn"><code>img-src</code></dfn></a>, and <a href=
        "https://w3c.github.io/webappsec/specs/content-security-policy/#default_src">
        <dfn id="dfn-default-src" data-dfn-type=
        "dfn"><code>default-src</code></dfn></a> directives are defined in
        [<cite><a href="#bib-CSP3" class="bibref">CSP3</a></cite>].
      </p>
      <p>
        The <a href=
        "http://www.ecma-international.org/ecma-402/1.0/#sec-6.2.2"><dfn id=
        "dfn-isstructurallyvalidlanguagetag" data-dfn-type=
        "dfn">IsStructurallyValidLanguageTag</dfn></a> and <a href=
        "http://www.ecma-international.org/ecma-402/1.0/#sec-6.2.3"><dfn id=
        "dfn-canonicalizelanguagetag" data-dfn-type=
        "dfn">CanonicalizeLanguageTag</dfn></a> abstract operations are defined
        in [<cite><a href="#bib-ECMAS-402" class=
        "bibref">ECMAS-402</a></cite>].
      </p>
      <p>
        The following are defined in [<cite><a href="#bib-FETCH" class=
        "bibref">FETCH</a></cite>]:
      </p>
      <ul>
        <li>
          <a href="https://fetch.spec.whatwg.org/#concept-fetch"><dfn id=
          "dfn-fetch" data-dfn-type="dfn">Fetch</dfn></a>.
        </li>
        <li>
          <a href="https://fetch.spec.whatwg.org/#concept-response"><dfn id=
          "dfn-response" data-dfn-type="dfn">Response</dfn></a>.
        </li>
        <li>
          <a href="https://fetch.spec.whatwg.org/#concept-request"><dfn id=
          "dfn-request" data-dfn-type="dfn">Request</dfn></a>.
        </li>
        <li>
          <a href=
          "https://fetch.spec.whatwg.org/#concept-network-error"><dfn id=
          "dfn-network-error" data-dfn-type="dfn">Network error</dfn></a>.
        </li>
        <li>
          <a href=
          "https://fetch.spec.whatwg.org/#concept-request-context"><dfn id=
          "dfn-context" data-dfn-type="dfn">Context</dfn></a>
        </li>
      </ul>
      <p>
        The following are defined in [<cite><a href="#bib-HTML" class=
        "bibref">HTML</a></cite>]:
      </p>
      <ul>
        <li>
          <a href=
          "https://html.spec.whatwg.org/multipage/browsers.html#allowed-to-navigate">
          <dfn id="dfn-allowed-to-navigate" data-dfn-type="dfn">allowed to
          navigate</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#external-resource-link">
          <dfn id="dfn-external-resource-link" data-dfn-type="dfn">external
          Resource link</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#top-level-browsing-context">
          <dfn id="dfn-top-level-browsing-context" data-dfn-type=
          "dfn">top-level browsing context</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#same-origin"><dfn id="dfn-same-origin"
          data-dfn-type="dfn">same-origin</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#unordered-set-of-unique-space-separated-tokens">
          <dfn id="dfn-unordered-set-of-unique-space-separated-tokens"
          data-dfn-type="dfn">unordered set of unique space-separated
          tokens</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#navigate"><dfn id="dfn-navigate-algorithm"
          data-dfn-type="dfn">navigate algorithm</dfn></a>
        </li>
        <li>
          <a href=
          "https://html.spec.whatwg.org/multipage/browsers.html#replacement-enabled">
          <dfn id="dfn-replacement-enabled" data-dfn-type="dfn">replacement
          enabled</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/multipage/semantics.html#the-link-element">
          <dfn id="dfn-link-element" data-dfn-type="dfn"><code>link</code>
          element</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#linkTypes"><dfn id="dfn-link-type"
          data-dfn-type="dfn">link type</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/multipage/semantics.html#attr-link-media">
          <dfn id="dfn-media" data-dfn-type="dfn">media</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#delay-the-load-event">
          <dfn id="dfn-delay-the-load-event" data-dfn-type="dfn">delay the load
          event</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#tree-order"><dfn id="dfn-tree-order"
          data-dfn-type="dfn">tree order</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#attr-link-rel"><dfn id="dfn-rel-attribute"
          data-dfn-type="dfn"><code>rel</code> attribute</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/multipage/semantics.html#concept-link-obtain">
          <dfn id="dfn-obtain-a-resource" data-dfn-type="dfn">obtain a
          resource</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/multipage/webappapis.html#networking-task-source">
          <dfn id="dfn-networking-task-source" data-dfn-type="dfn">networking
          task source</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#queue-a-task"><dfn id="dfn-queue-a-task"
          data-dfn-type="dfn">queue a task</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#origin"><dfn id=
          "dfn-origin" data-dfn-type="dfn">origin</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#the-a-element"><dfn id="dfn-a-element"
          data-dfn-type="dfn"><code>a</code> element</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#the-meta-element">
          <dfn id="dfn-meta-element" data-dfn-type="dfn"><code>meta</code>
          element</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#the-area-element">
          <dfn id="dfn-area-element" data-dfn-type="dfn"><code>area</code>
          element</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#attr-meta-name"><dfn id="dfn-name-attribute"
          data-dfn-type="dfn"><code>name</code> attribute</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#meta-application-name">
          <dfn id="dfn-application-name" data-dfn-type=
          "dfn">application-name</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#the-title-element">
          <dfn id="dfn-title-element" data-dfn-type="dfn"><code>title</code>
          element</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#rel-icon"><dfn id="dfn-icon-link-type"
          data-dfn-type="dfn">icon link type</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#ascii-case-insensitive">
          <dfn id="dfn-ascii-case-insensitive" data-dfn-type="dfn">ASCII
          case-insensitive</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#attr-link-sizes-any">
          <dfn id="dfn-any" data-dfn-type="dfn">any</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#valid-non-negative-integer">
          <dfn id="dfn-valid-non-negative-integer" data-dfn-type="dfn">valid
          non-negative integer</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#attr-link-sizes">
          <dfn id="dfn-sizes" data-dfn-type="dfn">sizes</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#converted-to-ascii-lowercase">
          <dfn id="dfn-to-ascii-lowercase" data-dfn-type="dfn">to ASCII
          lowercase</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#concept-link-type-sniffing">
          <dfn id="dfn-determining-the-type-of-the-resource" data-dfn-type=
          "dfn">determining the type of the resource</dfn></a>
        </li>
        <li>
          <a href=
          "https://www.whatwg.org/specs/web-apps/current-work/#valid-mime-type">
          <dfn id="dfn-valid-mime-type" data-dfn-type="dfn">valid MIME
          type</dfn></a>
        </li>
        <li>
          <a href="https://html.spec.whatwg.org/#same-origin"><dfn id=
          "dfn-same-origin-1" data-dfn-type="dfn">same origin</dfn></a>
        </li>
        <li>
          <a href=
          "https://html.spec.whatwg.org/#the-element's-base-url"><dfn id=
          "dfn-the-element-s-base-url" data-dfn-type="dfn">the element's base
          URL</dfn></a>.
        </li>
        <li>
          <a href=
          "https://html.spec.whatwg.org/#queue-a-post-load-task"><dfn id=
          "dfn-queue-a-post-load-task" data-dfn-type="dfn">queue a post-load
          task</dfn></a>
        </li>
      </ul>
    </section>
    <section id="iana-considerations">
      <!--OddPage-->
      <h2>
        <span class="secno">11.</span> IANA considerations
      </h2>
      <p>
        The following registrations are for community review and will be
        submitted to the <a href="https://www.ietf.org/iesg/">IESG</a> for
        review, approval, and registration with <a href=
        "https://www.iana.org/">IANA</a>.
      </p>
      <section id="media-type-registration">
        <h3>
          <span class="secno">11.1</span> Media type registration
        </h3>
        <p>
          This section contains the required text for MIME media type
          registration with <a href="https://www.iana.org/">IANA</a>.
        </p>
        <p>
          The <dfn id="dfn-media-type-for-a-manifest" data-dfn-type="dfn">media
          type for a manifest</dfn> is <code>application/manifest+json</code>.
        </p>
        <p>
          If the protocol over which the manifest is transferred supports the
          [<cite><a href="#bib-MIME-TYPES" class=
          "bibref">MIME-TYPES</a></cite>] specification (e.g. HTTP), it is
          <em title="RECOMMENDED" class="rfc2119">RECOMMENDED</em> that the
          manifest be labeled with the <a data-link-type="dfn" class=
          "internalDFN" href="#dfn-media-type-for-a-manifest">media type for a
          manifest</a>.
        </p>
        <dl>
          <dt>
            Type name:
          </dt>
          <dd>
            application
          </dd>
          <dt>
            Subtype name:
          </dt>
          <dd>
            manifest+json
          </dd>
          <dt>
            Required parameters:
          </dt>
          <dd>
            N/A
          </dd>
          <dt>
            Optional parameters:
          </dt>
          <dd>
            N/A
          </dd>
          <dt>
            Encoding considerations:
          </dt>
          <dd>
            Same as for application/json
          </dd>
          <dt>
            Security and privacy considerations:
          </dt>
          <dd>
            <div id="issue-348" class="issue">
              <div id="h-issue9" role="heading" aria-level="4" class=
              "issue-title marker">
                <a href=
                "https://www.github.com/w3c/manifest/issues/348"><span>Issue
                348</span></a><span style="text-transform: none">: Triage
                privacy issues</span>
              </div>
              <p>
                Lots of feedback here...<br>
                <a href=
                "https://lists.w3.org/Archives/Public/public-privacy/2015JanMar/0118.html">
                https://lists.w3.org/Archives/Public/public-privacy/2015JanMar/0118.html</a>
              </p>
              <p>
                cc <a href="https://github.com/npdoty" class=
                "user-mention">@npdoty</a>, who we need to work with to address
                the above...
              </p>
            </div>
            <p>
              This specification does not directly deal with high-value data.
              However, <a data-link-type="dfn" class="internalDFN" href=
              "#dfn-installed">installed</a> web applications and their data
              could be seen as "high value" (particularly from a privacy
              perspective).
            </p>
            <p>
              As the manifest format is JSON and will commonly be encoded using
              [<cite><a href="#bib-UNICODE" class="bibref">UNICODE</a></cite>],
              the security considerations described in [<cite><a href=
              "#bib-ECMA-404" class="bibref">ECMA-404</a></cite>] and
              [<cite><a href="#bib-UNICODE-SECURITY" class=
              "bibref">UNICODE-SECURITY</a></cite>] apply. In addition, because
              there is no way to prevent developers from including
              custom/unrestrained data in a <a data-link-type="dfn" class=
              "internalDFN" href="#dfn-manifest">manifest</a>, implementors
              need to impose their own implementation-specific limits on the
              values of otherwise unconstrained member types, e.g. to prevent
              denial of service attacks, to guard against running out of
              memory, or to work around platform-specific limitations.
            </p>
            <p>
              Web applications will generally contain ECMAScript, HTML, CSS
              files, and other media, which are executed in a sand-boxed
              environment. As such, implementors need to be aware of the
              security implications for the types they support. Specifically,
              implementors need to consider the security implications outlined
              in at least the following specifications: [<cite><a href=
              "#bib-CSS-MIME" class="bibref">CSS-MIME</a></cite>],
              [<cite><a href="#bib-ECMAScript-MIME" class=
              "bibref">ECMAScript-MIME</a></cite>], [<cite><a href="#bib-HTML"
              class="bibref">HTML</a></cite>].
            </p>
            <p>
              As web applications can contain content that is able to
              simultaneously interact with the local device and a remote host,
              implementors need to consider the privacy implications resulting
              from exposing private information to a remote host. Mitigation
              and in-depth defensive measures are an implementation
              responsibility and not prescribed by this specification. However,
              in designing these measures, implementors are advised to enable
              user awareness of information sharing, and to provide easy access
              to interfaces that enable revocation of permissions.
            </p>
            <p>
              As this specification allows for the declaration of URLs within
              certain members of a manifest, implementors need to consider the
              security considerations discussed in the [<cite><a href=
              "#bib-WHATWG-URL" class="bibref">WHATWG-URL</a></cite>]
              specification. Implementations intending to display <abbr title=
              "Internationalized Resource Identifiers">IRIs</abbr> and
              <abbr title="Internationalized domain name">IDNA</abbr> addresses
              found in the manifest are strongly encouraged to follow the
              security advice given in [<cite><a href="#bib-UNICODE-SECURITY"
              class="bibref">UNICODE-SECURITY</a></cite>].
            </p>
            <p>
              Developers need to be aware of the security considerations
              discussed throughout the [<cite><a href="#bib-CSP3" class=
              "bibref">CSP3</a></cite>] specification, particularly in relation
              to making <code>data:</code> a valid source for the purpose of
              <q>inlining</q> a manifest. Doing so can enable XSS attacks by
              allowing a manifest to be included directly in the document
              itself; this is best avoided completely.
            </p>
          </dd>
          <dt>
            Applications that use this media type:
          </dt>
          <dd>
            Web browsers
          </dd>
          <dt>
            Additional information:
          </dt>
          <dd>
            <dl>
              <dt>
                Magic number(s):
              </dt>
              <dd>
                N/A
              </dd>
              <dt>
                File extension(s):
              </dt>
              <dd>
                .webmanifest
              </dd>
              <dt>
                Macintosh file type code(s):
              </dt>
              <dd>
                TEXT
              </dd>
            </dl>
          </dd>
          <dt>
            Person & email address to contact for further information:
          </dt>
          <dd>
            The <a href="https://www.w3.org/WebPlatform/WG/" rel="nofollow">Web
            Platform Working Group</a> can be contacted at <a href=
            "https://lists.w3.org/Archives/Public/public-webapps/" rel=
            "nofollow">public-webapps@w3.org</a>.
          </dd>
          <dt>
            Intended usage:
          </dt>
          <dd>
            COMMON
          </dd>
          <dt>
            Restrictions on usage:
          </dt>
          <dd>
            none
          </dd>
          <dt>
            Author:
          </dt>
          <dd>
            <abbr title="World Wide Web Consortium">W3C</abbr>'s Web Platform
            Working Group.
          </dd>
          <dt>
            Change controller:
          </dt>
          <dd>
            <abbr title="World Wide Web Consortium">W3C</abbr>.
          </dd>
        </dl>
      </section>
      <section id="link-relation-type-registration">
        <h3>
          <span class="secno">11.2</span> Link relation type registration
        </h3>
        <div class="note">
          <div id="h-note10" role="heading" aria-level="4" class=
          "note-title marker">
            <span>Note</span>
          </div>
          <p class="">
            A request to register the <code>manifest</code> link relation type
            been submitted to IANA.
          </p>
        </div>
        <dl>
          <dt>
            Relation Name:
          </dt>
          <dd>
            manifest
          </dd>
          <dt>
            Description:
          </dt>
          <dd>
            Links to a <a data-link-type="dfn" class="internalDFN" href=
            "#dfn-manifest">manifest</a>. A manifest provides developers with a
            centralized place to put metadata associated with a web
            application.
          </dd>
          <dt>
            Reference:
          </dt>
          <dd>
            <a href=
            "http://www.w3.org/TR/appmanifest/">http://www.w3.org/TR/appmanifest/</a>
          </dd>
          <dt>
            Notes:
          </dt>
          <dd>
            Please refer to the <a data-link-type="dfn" class="internalDFN"
            href="#dfn-steps-for-obtaining-a-manifest">steps for obtaining a
            manifest</a> for details about how to fetch and <a data-link-type=
            "dfn" class="internalDFN" href="#dfn-applied">apply</a> a
            <a data-link-type="dfn" class="internalDFN" href=
            "#dfn-manifest">manifest</a>.
          </dd>
        </dl>
      </section>
    </section>
    <section id="conformance" data-status="done">
      <!--OddPage-->
      <h2>
        <span class="secno">12.</span> Conformance
      </h2>
      <p>
        As well as sections marked as non-normative, all authoring guidelines,
        diagrams, examples, and notes in this specification are non-normative.
        Everything else in this specification is normative.
      </p>
      <p id="respecRFC2119">
        The key words <em class="rfc2119" title="MAY">MAY</em>, <em class=
        "rfc2119" title="MUST">MUST</em>, <em class="rfc2119" title=
        "MUST NOT">MUST NOT</em>, <em class="rfc2119" title=
        "OPTIONAL">OPTIONAL</em>, <em class="rfc2119" title=
        "RECOMMENDED">RECOMMENDED</em>, <em class="rfc2119" title=
        "REQUIRED">REQUIRED</em>, and <em class="rfc2119" title=
        "SHOULD">SHOULD</em> are to be interpreted as described in
        [<cite><a href="#bib-RFC2119" class="bibref">RFC2119</a></cite>].
      </p>
      <p>
        There is only one class of product that can claim conformance to this
        specification: a <dfn id="dfn-user-agent" data-dfn-type="dfn">user
        agent</dfn>.
      </p>
      <div class="note">
        <div id="h-note11" role="heading" aria-level="3" class=
        "note-title marker">
          <span>Note</span>
        </div>
        <p class="">
          Although this specification is primarily targeted at web browsers, it
          is feasible that other software could also implement this
          specification in a conforming manner. For instance, search engines,
          or crawlers, could find and process manifests to build up catalogs of
          sites that potentially work as installable web applications.
        </p>
      </div>
      <section id="extensibility" class="informative">
        <h3>
          <span class="secno">12.1</span> Extensibility
        </h3>
        <p>
          <em>This section is non-normative.</em>
        </p>
        <p>
          This specification is designed to be extensible. Other specifications
          are encouraged to define new members for the manifest. However, in
          doing so, please follow the conventions used in this specification.
          In particular, use the <a data-link-type="dfn" class="internalDFN"
          href="#dfn-extension-point">extension point</a> to hook into the
          <a data-link-type="dfn" class="internalDFN" href=
          "#dfn-steps-for-processing-a-manifest">steps for processing a
          manifest</a>. Also, be sure to specify the steps for processing your
          particular member in the manner set forth in this specification. This
          will help keep this part of the platform consistent.
        </p>
        <p>
          When specifying a new member, don't override or <a href=
          "https://annevankesteren.nl/2014/02/monkey-patch">monkey patch</a>
          anything defined in this specification. Also, don't assume your
          member will be processed before or after any other member. Keep your
          new member, and its processing, atomic and self contained. Note also
          that implementations are free to ignore any member they do not
          recognize or support.
        </p>
        <p>
          If you are writing a specification and temporarily want to patch this
          specification to help implementations along, <a href=
          "https://github.com/w3c/manifest/issues">file a bug</a> so the
          community is informed of what you are trying to do.
        </p>
        <section id="proprietary-extensions" class="informative">
          <h4>
            <span class="secno">12.1.1</span> Proprietary manifest members
          </h4>
          <p>
            <em>This section is non-normative.</em>
          </p>
          <p>
            Although proprietary extensions are undesirable, they can't
            realistically be avoided. As such, the <em title="RECOMMENDED"
            class="rfc2119">RECOMMENDED</em> way to add a new proprietary
            manifest member as an extension is to use a vendor prefix.
          </p>
          <p>
            The following is an example of two hypothetical vendor extensions.
          </p>
          <div class="example">
            <div class="example-title marker">
              <span>Example 6</span><span style="text-transform: none">: vendor
              extensions</span>
            </div>
            <pre style="" class="highlight json prettyprint prettyprinted">
            <span class="pun">{</span><span class="pln">
  </span><span class="pun">...</span><span class="pln">
  </span><span class="str">"webkit_fancy_feature"</span><span class=
"pun">:</span><span class="pln"> </span><span class=
"str">"some/url/img"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"moz_awesome_thing"</span><span class=
"pun">:</span><span class="pln"> </span><span class="pun">{</span><span class=
"pln"> </span><span class="pun">...</span><span class=
"pln"> </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">...</span><span class="pln">
</span><span class="pun">}</span></pre>
          </div>
        </section>
      </section>
    </section>
    <section id="relationship-to-html-s-link-and-meta-elements" class=
    "appendix">
      <!--OddPage-->
      <h2>
        <span class="secno">A.</span> Relationship to HTML's <code>link</code>
        and <code>meta</code> elements
      </h2>
      <p>
        An extensive discussion of why we chose to use JSON instead of HTML
        <code>meta</code>/<code>link</code> tags for this specification is
        available on <a href=
        "https://github.com/w3c/manifest/issues/97">GitHub</a> and on the
        <a href=
        "https://lists.w3.org/Archives/Public/www-tag/2014Jan/0139.html">www-tag</a>
        list. Below is a short summary of the key points raised in those
        discussions.
      </p>
      <p>
        The document format defined in this specification provides a unified
        means of encapsulating metadata about a Web application in a way that
        we hope will avoid existing pitfalls with both proprietary and
        [<cite><a href="#bib-HTML" class="bibref">HTML</a></cite>]'s
        <code>meta</code>/<code>link</code> tags. Those pitfalls include:
      </p>
      <ul>
        <li>Developers have to duplicate the icons and application name in each
        page of a web site, leading to significant redundancy across pages.
        This is compounded if that information never gets used by the user
        agent (e.g., the user never bookmarks the web application).
        </li>
        <li>Spreading metadata across multiple documents can cause data to fall
        out of sync.
        </li>
        <li>If the metadata for a web application lives in a HTML document,
        that significantly increases the cost to user agents (and users) of
        checking for updates to the metadata of a site. Since the HTML file is
        likely to change often, it means that a user agent will often have to
        download the whole HTML file in order to check if any of the relevant
        meta tags have changed. If this resource contains inlined resources
        like JavaScript, images, or stylesheets, this could be a non-trivial
        download.
        </li>
      </ul>
      <p>
        Although it would be unrealistic to think that this specification won't
        bring its own set of problems, externalizing this data in the form of a
        manifest solves the problems described above. These problems are solved
        by:
      </p>
      <ul>
        <li>Making the manifest externally linkable: External manifest files
        can be cached as external resources, saving both bytes and redundancy
        in the markup.
        </li>
        <li>Flexible value types: unlike HTML attributes, members of the
        manifest can represent data using complex types, such as objects and
        arrays, rather than just strings. This solves the problem of the
        awkward and highly inconsistent formats the values of proprietary
        <code>meta</code> tags are currently using, especially when a tag's
        value contains several sub-values.
        </li>
      </ul>
      <p>
        In addition, standardizing the functionality currently provided by the
        various <code>meta</code> tag-based solutions within the manifest
        solves the problem of having to declare large number of proprietary and
        standard [<cite><a href="#bib-HTML" class="bibref">HTML</a></cite>]
        tags that all achieve the same thing. Of course, this hinges on the
        standard actually getting implemented by browsers and those browsers
        getting widely deployed to users: if this happens, the Web community
        might be able to retire many of the proprietary <code>meta</code> tags
        plaguing the Web at the time of writing. More information about the
        proprietary tags can be found in the <cite><a href=
        "https://w3c-webmob.github.io/installable-webapps/">Use Cases and
        Requirements for Installable Web Apps</a></cite> .
      </p>
      <p>
        Lastly, this specification does not make the standardized solutions
        found in [<cite><a href="#bib-HTML" class="bibref">HTML</a></cite>]
        redundant. When members like the <code>name</code> or
        <code>icons</code> is missing from the manifest, user agents can search
        in a manifest's owner [<cite><a href="#bib-HTML" class=
        "bibref">HTML</a></cite>] document for things like icons and the
        application name (or a user agent might even fallback to proprietary
        tags/metadata, if they are present in a document).
      </p>
    </section>
    <section id="json-schema" class="appendix">
      <!--OddPage-->
      <h2>
        <span class="secno">B.</span> JSON Schema
      </h2>
      <p>
        Developers interested in validating <a data-link-type="dfn" class=
        "internalDFN" href="#dfn-manifest">manifest</a> documents can find an
        unofficial <a href="http://json.schemastore.org/web-manifest">JSON
        schema for the manifest format</a> at <a href=
        "http://schemastore.org/">schemastore.org</a>. It is licensed under
        <a href="https://www.apache.org/licenses/LICENSE-2.0.html">Apache
        2.0</a>. It is kindly maintained by <a href=
        "https://github.com/madskristensen">Mads Kristensen</a>. If you find
        any issues with the JSON schema, please <a href=
        "https://github.com/SchemaStore/schemastore/issues/">file a bug</a> at
        the <a href="https://github.com/SchemaStore/schemastore">SchemaStore
        repository</a> on GitHub.
      </p>
    </section>
    <section id="internationalization">
      <!--OddPage-->
      <h2>
        <span class="secno">C.</span> internationalization
      </h2>
      <div id="issue-323" class="issue">
        <div id="h-issue10" role="heading" aria-level="3" class=
        "issue-title marker">
          <a href="https://www.github.com/w3c/manifest/issues/323"><span>Issue
          323</span></a><span style="text-transform: none">: Add note about
          i18n</span>
        </div>
        <p>
          The note should include:
        </p>
        <ul class="task-list">
          <li class="task-list-item">
            <input class="task-list-item-checkbox" disabled type="checkbox">
            The spec should details how we expect developers to localize
            content. Like by: <code>&lt;link rel=manifest
            href='manifest?lang=en'&gt;</code>
          </li>
          <li class="task-list-item">
            <input class="task-list-item-checkbox" disabled type="checkbox"> An
            example showing the use of a language other than English.
          </li>
          <li class="task-list-item">
            <input class="task-list-item-checkbox" disabled type="checkbox">
            Add discussion of obtaining a correctly localized reference,
            particularly for use in cases where the source page itself has used
            language negotiation.
          </li>
        </ul>
      </div>
    </section>
    <section id="issue-summary">
      <!--OddPage-->
      <h2>
        <span class="secno">D.</span> Issue Summary
      </h2>
      <ul>
        <li>
          <a href="#issue-363">Issue 363</a><span style=
          "text-transform: none">: Deep linking - need proper use cases and
          requirements analysis</span>
        </li>
        <li>
          <a href="#issue-384">Issue 384</a><span style=
          "text-transform: none">: Updating is under/incorrectly
          specified</span>
        </li>
        <li>
          <a href="#issue-380">Issue 380</a><span style=
          "text-transform: none">: Provide better examples of scope</span>
        </li>
        <li>
          <a href="#issue-372">Issue 372</a><span style=
          "text-transform: none">: A means to control how long a splash screen
          should remain on screen.</span>
        </li>
        <li>
          <a href="#issue-365">Issue 365</a><span style=
          "text-transform: none">: Is prefer_related_applications too
          simplistic?</span>
        </li>
        <li>
          <a href="#issue-361">Issue 361</a><span style=
          "text-transform: none">: Ability to define platform-specific
          icon/splash style</span>
        </li>
        <li>
          <a href="#issue-348">Issue 348</a><span style=
          "text-transform: none">: Triage privacy issues</span>
        </li>
        <li>
          <a href="#issue-323">Issue 323</a><span style=
          "text-transform: none">: Add note about i18n</span>
        </li>
      </ul>
    </section>
    <section id="acknowledgments" class="appendix">
      <!--OddPage-->
      <h2>
        <span class="secno">E.</span> Acknowledgments
      </h2>
      <p>
        This document reuses text from the [<cite><a href="#bib-HTML" class=
        "bibref">HTML</a></cite>] specification, edited by Ian Hickson, as
        permitted by the license of that specification.
      </p>
      <p>
        Dave Raggett and Dominique Hazael-Massieux contributed to this
        specification via the HTML5Apps project.
      </p>
    </section>
    <section id="references" class="appendix">
      <!--OddPage-->
      <h2>
        <span class="secno">F.</span> References
      </h2>
      <section id="normative-references">
        <h3>
          <span class="secno">F.1</span> Normative references
        </h3>
        <dl class="bibliography">
          <dt id="bib-BCP47">
            [BCP47]
          </dt>
          <dd>
            A. Phillips; M. Davis. IETF. <a href=
            "https://tools.ietf.org/html/bcp47"><cite>Tags for Identifying
            Languages</cite></a>. September 2009. IETF Best Current Practice.
            URL: <a href=
            "https://tools.ietf.org/html/bcp47">https://tools.ietf.org/html/bcp47</a>
          </dd>
          <dt id="bib-CORS">
            [CORS]
          </dt>
          <dd>
            Anne van Kesteren. W3C. <a href=
            "http://www.w3.org/TR/cors/"><cite>Cross-Origin Resource
            Sharing</cite></a>. 16 January 2014. W3C Recommendation. URL:
            <a href="http://www.w3.org/TR/cors/">http://www.w3.org/TR/cors/</a>
          </dd>
          <dt id="bib-CSP3">
            [CSP3]
          </dt>
          <dd>
            Mike West. W3C. <a href="http://www.w3.org/TR/CSP3/"><cite>Content
            Security Policy Level 3</cite></a>. 26 January 2016. W3C Working
            Draft. URL: <a href=
            "http://www.w3.org/TR/CSP3/">http://www.w3.org/TR/CSP3/</a>
          </dd>
          <dt id="bib-CSS-MIME">
            [CSS-MIME]
          </dt>
          <dd>
            H. Lie; B. Bos; C. Lilley. IETF. <a href=
            "https://tools.ietf.org/html/rfc2318"><cite>The text/css Media
            Type</cite></a>. March 1998. Informational. URL: <a href=
            "https://tools.ietf.org/html/rfc2318">https://tools.ietf.org/html/rfc2318</a>
          </dd>
          <dt id="bib-CSS-SYNTAX-3">
            [CSS-SYNTAX-3]
          </dt>
          <dd>
            Tab Atkins Jr.; Simon Sapin. W3C. <a href=
            "http://www.w3.org/TR/css-syntax-3/"><cite>CSS Syntax Module Level
            3</cite></a>. 20 February 2014. W3C Candidate Recommendation. URL:
            <a href=
            "http://www.w3.org/TR/css-syntax-3/">http://www.w3.org/TR/css-syntax-3/</a>
          </dd>
          <dt id="bib-ECMA-404">
            [ECMA-404]
          </dt>
          <dd>
            Ecma International. <a href=
            "http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf">
            <cite>The JSON Data Interchange Format</cite></a>. 1 October 2013.
            Standard. URL: <a href=
            "http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf">
            http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf</a>
          </dd>
          <dt id="bib-ECMAS-402">
            [ECMAS-402]
          </dt>
          <dd>
            Ecma International. <a href=
            "https://tc39.github.io/ecma402/"><cite>ECMAScript
            Internationalization API Specification</cite></a>. URL: <a href=
            "https://tc39.github.io/ecma402/">https://tc39.github.io/ecma402/</a>
          </dd>
          <dt id="bib-ECMASCRIPT">
            [ECMASCRIPT]
          </dt>
          <dd>
            Ecma International. <a href=
            "https://tc39.github.io/ecma262/"><cite>ECMAScript Language
            Specification</cite></a>. URL: <a href=
            "https://tc39.github.io/ecma262/">https://tc39.github.io/ecma262/</a>
          </dd>
          <dt id="bib-ECMAScript-MIME">
            [ECMAScript-MIME]
          </dt>
          <dd>
            B. Hoehrmann. IETF. <a href=
            "https://tools.ietf.org/html/rfc4329"><cite>Scripting Media
            Types</cite></a>. April 2006. Informational. URL: <a href=
            "https://tools.ietf.org/html/rfc4329">https://tools.ietf.org/html/rfc4329</a>
          </dd>
          <dt id="bib-FETCH">
            [FETCH]
          </dt>
          <dd>
            Anne van Kesteren. WHATWG. <a href=
            "https://fetch.spec.whatwg.org/"><cite>Fetch Standard</cite></a>.
            Living Standard. URL: <a href=
            "https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
          </dd>
          <dt id="bib-HTML">
            [HTML]
          </dt>
          <dd>
            Ian Hickson. WHATWG. <a href=
            "https://html.spec.whatwg.org/multipage/"><cite>HTML
            Standard</cite></a>. Living Standard. URL: <a href=
            "https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
          </dd>
          <dt id="bib-MEDIAQ">
            [MEDIAQ]
          </dt>
          <dd>
            Florian Rivoal et al. W3C. <a href=
            "http://www.w3.org/TR/css3-mediaqueries/"><cite>Media
            Queries</cite></a>. 19 June 2012. W3C Recommendation. URL: <a href=
            "http://www.w3.org/TR/css3-mediaqueries/">http://www.w3.org/TR/css3-mediaqueries/</a>
          </dd>
          <dt id="bib-META-THEME-COLOR">
            [META-THEME-COLOR]
          </dt>
          <dd>
            WHATWG. <a href=
            "https://github.com/whatwg/meta-theme-color"><cite>The
            'theme-color' meta extension</cite></a>. Living Standard. URL:
            <a href=
            "https://github.com/whatwg/meta-theme-color">https://github.com/whatwg/meta-theme-color</a>
          </dd>
          <dt id="bib-MIME-TYPES">
            [MIME-TYPES]
          </dt>
          <dd>
            N. Freed; N. Borenstein. IETF. <a href=
            "https://tools.ietf.org/html/rfc2046"><cite>Multipurpose Internet
            Mail Extensions (MIME) Part Two: Media Types</cite></a>. November
            1996. Draft Standard. URL: <a href=
            "https://tools.ietf.org/html/rfc2046">https://tools.ietf.org/html/rfc2046</a>
          </dd>
          <dt id="bib-RFC2119">
            [RFC2119]
          </dt>
          <dd>
            S. Bradner. IETF. <a href=
            "https://tools.ietf.org/html/rfc2119"><cite>Key words for use in
            RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best
            Current Practice. URL: <a href=
            "https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
          </dd>
          <dt id="bib-RFC5646">
            [RFC5646]
          </dt>
          <dd>
            A. Phillips, Ed.; M. Davis, Ed.. IETF. <a href=
            "https://tools.ietf.org/html/rfc5646"><cite>Tags for Identifying
            Languages</cite></a>. September 2009. Best Current Practice. URL:
            <a href=
            "https://tools.ietf.org/html/rfc5646">https://tools.ietf.org/html/rfc5646</a>
          </dd>
          <dt id="bib-SCREEN-ORIENTATION">
            [SCREEN-ORIENTATION]
          </dt>
          <dd>
            Mounir Lamouri; Marcos Caceres. W3C. <a href=
            "http://www.w3.org/TR/screen-orientation/"><cite>The Screen
            Orientation API</cite></a>. 23 December 2015. W3C Working Draft.
            URL: <a href=
            "http://www.w3.org/TR/screen-orientation/">http://www.w3.org/TR/screen-orientation/</a>
          </dd>
          <dt id="bib-UNICODE">
            [UNICODE]
          </dt>
          <dd>
            The Unicode Consortium. <a href=
            "http://www.unicode.org/versions/latest/"><cite>The Unicode
            Standard</cite></a>. URL: <a href=
            "http://www.unicode.org/versions/latest/">http://www.unicode.org/versions/latest/</a>
          </dd>
          <dt id="bib-UNICODE-SECURITY">
            [UNICODE-SECURITY]
          </dt>
          <dd>
            Mark Davis; Michel Suignard. Unicode Consortium. <a href=
            "http://www.unicode.org/reports/tr36/"><cite>Unicode Security
            Considerations</cite></a>. URL: <a href=
            "http://www.unicode.org/reports/tr36/">http://www.unicode.org/reports/tr36/</a>
          </dd>
          <dt id="bib-URL">
            [URL]
          </dt>
          <dd>
            Anne van Kesteren; Sam Ruby. W3C. <a href=
            "http://www.w3.org/TR/url-1/"><cite>URL</cite></a>. 9 December
            2014. W3C Working Draft. URL: <a href=
            "http://www.w3.org/TR/url-1/">http://www.w3.org/TR/url-1/</a>
          </dd>
          <dt id="bib-WHATWG-URL">
            [WHATWG-URL]
          </dt>
          <dd>
            Anne van Kesteren; Sam Ruby. WHATWG. <a href=
            "https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>.
            Living Standard. URL: <a href=
            "https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
          </dd>
        </dl>
      </section>
      <section id="informative-references">
        <h3>
          <span class="secno">F.2</span> Informative references
        </h3>
        <dl class="bibliography">
          <dt id="bib-WHATWG-FULLSCREEN">
            [WHATWG-FULLSCREEN]
          </dt>
          <dd>
            Anne van Kesteren. WHATWG. <a href=
            "https://fullscreen.spec.whatwg.org/"><cite>Fullscreen API
            Standard</cite></a>. Living Standard. URL: <a href=
            "https://fullscreen.spec.whatwg.org/">https://fullscreen.spec.whatwg.org/</a>
          </dd>
          <dt id="bib-css3-values">
            [css3-values]
          </dt>
          <dd>
            Tab Atkins Jr.; Elika Etemad. W3C. <a href=
            "http://www.w3.org/TR/css-values/"><cite>CSS Values and Units
            Module Level 3</cite></a>. 11 June 2015. W3C Candidate
            Recommendation. URL: <a href=
            "http://www.w3.org/TR/css-values/">http://www.w3.org/TR/css-values/</a>
          </dd>
          <dt id="bib-cssom-view">
            [cssom-view]
          </dt>
          <dd>
            Simon Pieters; Glenn Adams. W3C. <a href=
            "http://www.w3.org/TR/cssom-view/"><cite>CSSOM View
            Module</cite></a>. 17 December 2013. W3C Working Draft. URL:
            <a href=
            "http://www.w3.org/TR/cssom-view/">http://www.w3.org/TR/cssom-view/</a>
          </dd>
          <dt id="bib-respimg-usecases">
            [respimg-usecases]
          </dt>
          <dd>
            Marcos Caceres; Mathew Marquis; Yoav Weiss; David Newton. W3C.
            <a href="http://www.w3.org/TR/respimg-usecases/"><cite>Use Cases
            and Requirements for Standardizing Responsive Images</cite></a>. 7
            November 2013. W3C Note. URL: <a href=
            "http://www.w3.org/TR/respimg-usecases/">http://www.w3.org/TR/respimg-usecases/</a>
          </dd>
        </dl>
      </section>
    </section>
    <p role="navigation" id="back-to-top">
      <a href="#toc"><abbr title="Back to Top">↑</abbr></a>
    </p>
    <script src="https://www.w3.org/scripts/TR/2016/fixup.js" defer async
    ></script>
  </body>
</html>
